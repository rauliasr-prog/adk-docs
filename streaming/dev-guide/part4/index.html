<!--
 Copyright 2025 Google LLC

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
-->


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Build powerful multi-agent systems with Agent Development Kit">
      
      
      
        <link rel="canonical" href="https://google.github.io/adk-docs/streaming/dev-guide/part4/">
      
      
        <link rel="prev" href="../part3/">
      
      
        <link rel="next" href="../part5/">
      
      
        
      
      
      <link rel="icon" href="../../../assets/agent-development-kit.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.0">
    
    
      
        <title>Part 4. Run configuration - Agent Development Kit</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.618322db.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Google+Sans:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Google Sans";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../stylesheets/custom.css">
    
      <link rel="stylesheet" href="../../../stylesheets/language-tags.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-DKHZS27PHP"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-DKHZS27PHP",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-DKHZS27PHP",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>if("undefined"!=typeof __md_analytics){var consent=__md_get("__consent");consent&&consent.analytics&&__md_analytics()}</script>
  

    
    
  <!-- HTML Meta Tags -->
  <title>Agent Development Kit</title>
  <meta name="description" content="Build powerful multi-agent systems with Agent Development Kit">

  <!-- Facebook Meta Tags -->
  <meta property="og:url" content="https://google.github.io/adk-docs">
  <meta property="og:type" content="website">
  <meta property="og:title" content="Agent Development Kit">
  <meta property="og:description" content="Build powerful multi-agent systems with Agent Development Kit">
  <meta property="og:image" content="https://google.github.io/adk-docs/assets/adk-social-card.png">

  <!-- Twitter Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta property="twitter:domain" content="google.github.io">
  <meta property="twitter:url" content="https://google.github.io/adk-docs">
  <meta name="twitter:title" content="Agent Development Kit">
  <meta name="twitter:description" content="Build powerful multi-agent systems with Agent Development Kit">
  <meta name="twitter:image" content="https://google.github.io/adk-docs/assets/adk-social-card.png">

  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="white">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#part-4-understanding-runconfig" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      <!--
 Copyright 2025 Google LLC

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
-->

<!-- Determine classes -->


  


<!-- Header -->
<header class="md-header md-header--shadow" data-md-component="header">
  <nav
    class="md-header__inner md-grid"
    aria-label="Header"
  >

    <!-- Link to home -->
    <a
      href="../../.."
      title="Agent Development Kit"
      class="md-header__button md-logo"
      aria-label="Agent Development Kit"
      data-md-component="logo"
    >
      
  <img src="../../../assets/agent-development-kit.png" alt="logo">

    </a>

    <!-- Button to open drawer -->
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>

    <!-- Header title -->
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            <a
      href="../../.."
      title="Agent Development Kit"
      aria-label="Agent Development Kit"
      data-md-component="logo"
    >
            Agent Development Kit
            </a>
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Part 4. Run configuration
            
            </a>
          </span>
        </div>
      </div>
    </div>

    <!-- Color palette toggle -->
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="white"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="white" data-md-color-accent="white"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    

    <!-- User preference: color palette -->
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    

    <!-- Site language selector -->
    

    <!-- Button to open search modal -->
    
      

      <!-- Check if search is actually enabled - see https://t.ly/DT_0V -->
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>

        <!-- Search interface -->
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    

    <!-- Repository information -->
    
      <div class="md-header__source">
        <!-- First repository information -->
<a href="https://github.com/google/adk-python" title="adk-python"
  class="md-source" data-md-component="source" style="margin-right: 10px;">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    adk-python
  </div>
</a>

<!-- Second repository information -->
<a href="https://github.com/google/adk-js" title="adk-js"
  class="md-source" data-md-component="source" style="margin-right: 10px;">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    adk-js
  </div>
</a>

<!-- Third repository information -->
<a href="https://github.com/google/adk-go" title="adk-go"
  class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    adk-go
  </div>
</a>

<!-- Fourth repository information -->
<a href="https://github.com/google/adk-java" title="adk-java"
  class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    adk-java
  </div>
</a>
      </div>
    
  </nav>

  <!-- Navigation tabs (sticky) -->
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <!--
  Copyright (c) 2016-2025 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->



<!-- Determine classes -->




<!-- Navigation -->
<nav
  class="md-nav md-nav--primary"
  aria-label="Navigation"
  data-md-level="0"
>

  <!-- Repository information -->
  
    <div class="md-nav__source">
      <!-- First repository information -->
<a href="https://github.com/google/adk-python" title="adk-python"
  class="md-source" data-md-component="source" style="margin-right: 10px;">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    adk-python
  </div>
</a>

<!-- Second repository information -->
<a href="https://github.com/google/adk-js" title="adk-js"
  class="md-source" data-md-component="source" style="margin-right: 10px;">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    adk-js
  </div>
</a>

<!-- Third repository information -->
<a href="https://github.com/google/adk-go" title="adk-go"
  class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    adk-go
  </div>
</a>

<!-- Fourth repository information -->
<a href="https://github.com/google/adk-java" title="adk-java"
  class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    adk-java
  </div>
</a>
    </div>
  

  <!-- Navigation list -->
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../.." class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Home
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Build Agents
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Build Agents
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../get-started/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Get Started
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Get Started
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../get-started/python/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Python
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../get-started/typescript/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    TypeScript
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../get-started/go/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Go
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../get-started/java/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Java
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../tutorials/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Build your Agent
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Build your Agent
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../get-started/quickstart/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Multi-tool agent
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/agent-team/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Agent team
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../get-started/streaming/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Streaming agent
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_2_4" id="__nav_2_2_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Streaming agent
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../get-started/streaming/quickstart-streaming/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Python
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../get-started/streaming/quickstart-streaming-java/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Java
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../visual-builder/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Visual Builder
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/coding-with-ai/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Coding with AI
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../get-started/installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Advanced setup
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../agents/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Agents
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Agents
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../agents/llm-agents/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    LLM agents
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../agents/workflow-agents/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Workflow agents
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_3_3" id="__nav_2_3_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Workflow agents
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../agents/workflow-agents/sequential-agents/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Sequential agents
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../agents/workflow-agents/loop-agents/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Loop agents
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../agents/workflow-agents/parallel-agents/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Parallel agents
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../agents/custom-agents/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Custom agents
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../agents/multi-agents/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Multi-agent systems
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../agents/config/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Agent Config
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../agents/models/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Models for Agents
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Models for Agents
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../agents/models/google-gemini/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Gemini
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../agents/models/anthropic/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Claude
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../agents/models/vertex/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Vertex AI hosted
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../agents/models/apigee/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Apigee AI Gateway
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../agents/models/ollama/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Ollama
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../agents/models/vllm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    vLLM
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../agents/models/litellm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    LiteLLM
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../integrations/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Tools and Integrations
  

    
  </span>
  
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Tools and Integrations
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../tools-custom/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Custom Tools
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_6" id="__nav_2_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Custom Tools
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6_2" >
        
          
          <label class="md-nav__link" for="__nav_2_6_2" id="__nav_2_6_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Function tools
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_6_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_6_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Function tools
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tools-custom/function-tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tools-custom/performance/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tool performance
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tools-custom/confirmation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Action confirmations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tools-custom/mcp-tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    MCP tools
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tools-custom/openapi-tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    OpenAPI tools
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tools-custom/authentication/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Authentication
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tools/limitations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tool limitations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Run Agents
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Run Agents
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../runtime/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Agent Runtime
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Agent Runtime
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../runtime/web-interface/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Web Interface
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../runtime/command-line/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Command Line
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../runtime/api-server/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    API Server
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../runtime/resume/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Resume Agents
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../runtime/runconfig/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Runtime Config
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../runtime/event-loop/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Event Loop
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../deploy/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Deployment
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Deployment
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../deploy/agent-engine/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Agent Engine
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_2_2" id="__nav_3_2_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Agent Engine
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../deploy/agent-engine/deploy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Standard deployment
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../deploy/agent-engine/asp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Agent Starter Pack
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../deploy/agent-engine/test/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Test deployed agents
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../deploy/cloud-run/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Cloud Run
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../deploy/gke/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    GKE
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Observability
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Observability
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../observability/logging/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Logging
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../evaluate/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Evaluation
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Evaluation
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../evaluate/criteria/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Criteria
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../evaluate/user-sim/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    User Simulation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../safety/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Safety and Security
  

    
  </span>
  
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Safety and Security
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Components
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Components
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../get-started/about/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Technical Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../context/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Context
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Context
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../context/caching/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Context caching
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../context/compaction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Context compression
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../sessions/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Sessions & Memory
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Sessions & Memory
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../sessions/session/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Sessions
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_3_2" id="__nav_4_3_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Sessions
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../sessions/session/rewind/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Rewind sessions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../sessions/session/migrate/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Migrate sessions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../sessions/state/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    State
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../sessions/memory/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Memory
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../callbacks/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Callbacks
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Callbacks
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../callbacks/types-of-callbacks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Types of callbacks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../callbacks/design-patterns-and-best-practices/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Callback patterns
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_5" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../artifacts/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Artifacts
  

    
  </span>
  
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Artifacts
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_6" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../events/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Events
  

    
  </span>
  
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Events
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_7" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../apps/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Apps
  

    
  </span>
  
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Apps
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_8" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../plugins/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Plugins
  

    
  </span>
  
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    Plugins
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_9" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../mcp/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    MCP
  

    
  </span>
  
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    MCP
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_10" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../a2a/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    A2A Protocol
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_10" id="__nav_4_10_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_10">
            <span class="md-nav__icon md-icon"></span>
            
  
    A2A Protocol
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../a2a/intro/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Introduction to A2A
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_10_3" >
        
          
          <label class="md-nav__link" for="__nav_4_10_3" id="__nav_4_10_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    A2A Quickstart (Exposing)
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_10_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_10_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    A2A Quickstart (Exposing)
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../a2a/quickstart-exposing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Python
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../a2a/quickstart-exposing-go/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Go
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_10_4" >
        
          
          <label class="md-nav__link" for="__nav_4_10_4" id="__nav_4_10_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    A2A Quickstart (Consuming)
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_10_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_10_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    A2A Quickstart (Consuming)
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../a2a/quickstart-consuming/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Python
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../a2a/quickstart-consuming-go/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Go
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_11" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Bidi-streaming (live)
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_11" id="__nav_4_11_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_11_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4_11">
            <span class="md-nav__icon md-icon"></span>
            
  
    Bidi-streaming (live)
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_11_2" checked>
        
          
          <label class="md-nav__link" for="__nav_4_11_2" id="__nav_4_11_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Bidi-streaming development guide series
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_11_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4_11_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Bidi-streaming development guide series
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../part1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Part 1. Intro to streaming
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../part2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Part 2. Sending messages
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../part3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Part 3. Event handling
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Part 4. Run configuration
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Part 4. Run configuration
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#runconfig-parameter-quick-reference" class="md-nav__link">
    <span class="md-ellipsis">
      
        RunConfig Parameter Quick Reference
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#response-modalities" class="md-nav__link">
    <span class="md-ellipsis">
      
        Response Modalities
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#streamingmode-bidi-or-sse" class="md-nav__link">
    <span class="md-ellipsis">
      
        StreamingMode: BIDI or SSE
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="StreamingMode: BIDI or SSE">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#protocol-and-implementation-differences" class="md-nav__link">
    <span class="md-ellipsis">
      
        Protocol and Implementation Differences
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#progressive-sse-streaming" class="md-nav__link">
    <span class="md-ellipsis">
      
        Progressive SSE Streaming
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#when-to-use-each-mode" class="md-nav__link">
    <span class="md-ellipsis">
      
        When to Use Each Mode
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#standard-gemini-models-15-series-accessed-via-sse" class="md-nav__link">
    <span class="md-ellipsis">
      
        Standard Gemini Models (1.5 Series) Accessed via SSE
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#understanding-live-api-connections-and-sessions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Understanding Live API Connections and Sessions
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Understanding Live API Connections and Sessions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#adk-session-vs-live-api-session" class="md-nav__link">
    <span class="md-ellipsis">
      
        ADK Session vs Live API Session
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#live-api-connections-and-sessions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Live API Connections and Sessions
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Live API Connections and Sessions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#live-api-connection-and-session-limits-by-platform" class="md-nav__link">
    <span class="md-ellipsis">
      
        Live API Connection and Session Limits by Platform
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#live-api-session-resumption" class="md-nav__link">
    <span class="md-ellipsis">
      
        Live API Session Resumption
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Live API Session Resumption">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#scope-of-adks-reconnection-management" class="md-nav__link">
    <span class="md-ellipsis">
      
        Scope of ADK's Reconnection Management
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-adk-manages-session-resumption" class="md-nav__link">
    <span class="md-ellipsis">
      
        How ADK Manages Session Resumption
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sequence-diagram-automatic-reconnection" class="md-nav__link">
    <span class="md-ellipsis">
      
        Sequence Diagram: Automatic Reconnection
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#live-api-context-window-compression" class="md-nav__link">
    <span class="md-ellipsis">
      
        Live API Context Window Compression
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Live API Context Window Compression">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#platform-behavior-and-official-limits" class="md-nav__link">
    <span class="md-ellipsis">
      
        Platform Behavior and Official Limits
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#when-not-to-use-context-window-compression" class="md-nav__link">
    <span class="md-ellipsis">
      
        When NOT to Use Context Window Compression
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#best-practices-for-live-api-connection-and-session-management" class="md-nav__link">
    <span class="md-ellipsis">
      
        Best Practices for Live API Connection and Session Management
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Best Practices for Live API Connection and Session Management">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#essential-enable-session-resumption" class="md-nav__link">
    <span class="md-ellipsis">
      
        Essential: Enable Session Resumption
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recommended-enable-context-window-compression-for-unlimited-sessions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Recommended: Enable Context Window Compression for Unlimited Sessions
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optional-monitor-session-duration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Optional: Monitor Session Duration
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#concurrent-live-api-sessions-and-quota-management" class="md-nav__link">
    <span class="md-ellipsis">
      
        Concurrent Live API Sessions and Quota Management
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Concurrent Live API Sessions and Quota Management">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#understanding-concurrent-live-api-session-quotas" class="md-nav__link">
    <span class="md-ellipsis">
      
        Understanding Concurrent Live API Session Quotas
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#architectural-patterns-for-managing-quotas" class="md-nav__link">
    <span class="md-ellipsis">
      
        Architectural Patterns for Managing Quotas
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Architectural Patterns for Managing Quotas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pattern-1-direct-mapping-simple-applications" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pattern 1: Direct Mapping (Simple Applications)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pattern-2-session-pooling-with-queueing" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pattern 2: Session Pooling with Queueing
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#miscellaneous-controls" class="md-nav__link">
    <span class="md-ellipsis">
      
        Miscellaneous Controls
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Miscellaneous Controls">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#max_llm_calls" class="md-nav__link">
    <span class="md-ellipsis">
      
        max_llm_calls
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#save_live_blob" class="md-nav__link">
    <span class="md-ellipsis">
      
        save_live_blob
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom_metadata" class="md-nav__link">
    <span class="md-ellipsis">
      
        custom_metadata
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#support_cfc-experimental" class="md-nav__link">
    <span class="md-ellipsis">
      
        support_cfc (Experimental)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    <span class="md-ellipsis">
      
        Summary
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../part5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Part 5. Audio, Images, and Video
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../streaming-tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Streaming Tools
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Configuring Bidi-streaming behavior
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_12" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../grounding/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Grounding
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_12" id="__nav_4_12_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_12">
            <span class="md-nav__icon md-icon"></span>
            
  
    Grounding
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../grounding/google_search_grounding/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Google Search Grounding
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../grounding/vertex_ai_search_grounding/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Vertex AI Search Grounding
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Reference
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../release-notes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Release Notes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../api-reference/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    API Reference
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    API Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-reference/python/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Python ADK
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-reference/typescript/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Typescript ADK
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://pkg.go.dev/google.golang.org/adk" target="_blank" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Go ADK
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-reference/java/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Java ADK
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-reference/cli/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CLI Reference
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-reference/agentconfig/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Agent Config Reference
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-reference/rest/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    REST API
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../community/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Community Resources
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../contributing-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Contributing Guide
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#runconfig-parameter-quick-reference" class="md-nav__link">
    <span class="md-ellipsis">
      
        RunConfig Parameter Quick Reference
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#response-modalities" class="md-nav__link">
    <span class="md-ellipsis">
      
        Response Modalities
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#streamingmode-bidi-or-sse" class="md-nav__link">
    <span class="md-ellipsis">
      
        StreamingMode: BIDI or SSE
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="StreamingMode: BIDI or SSE">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#protocol-and-implementation-differences" class="md-nav__link">
    <span class="md-ellipsis">
      
        Protocol and Implementation Differences
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#progressive-sse-streaming" class="md-nav__link">
    <span class="md-ellipsis">
      
        Progressive SSE Streaming
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#when-to-use-each-mode" class="md-nav__link">
    <span class="md-ellipsis">
      
        When to Use Each Mode
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#standard-gemini-models-15-series-accessed-via-sse" class="md-nav__link">
    <span class="md-ellipsis">
      
        Standard Gemini Models (1.5 Series) Accessed via SSE
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#understanding-live-api-connections-and-sessions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Understanding Live API Connections and Sessions
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Understanding Live API Connections and Sessions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#adk-session-vs-live-api-session" class="md-nav__link">
    <span class="md-ellipsis">
      
        ADK Session vs Live API Session
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#live-api-connections-and-sessions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Live API Connections and Sessions
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Live API Connections and Sessions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#live-api-connection-and-session-limits-by-platform" class="md-nav__link">
    <span class="md-ellipsis">
      
        Live API Connection and Session Limits by Platform
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#live-api-session-resumption" class="md-nav__link">
    <span class="md-ellipsis">
      
        Live API Session Resumption
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Live API Session Resumption">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#scope-of-adks-reconnection-management" class="md-nav__link">
    <span class="md-ellipsis">
      
        Scope of ADK's Reconnection Management
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-adk-manages-session-resumption" class="md-nav__link">
    <span class="md-ellipsis">
      
        How ADK Manages Session Resumption
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sequence-diagram-automatic-reconnection" class="md-nav__link">
    <span class="md-ellipsis">
      
        Sequence Diagram: Automatic Reconnection
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#live-api-context-window-compression" class="md-nav__link">
    <span class="md-ellipsis">
      
        Live API Context Window Compression
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Live API Context Window Compression">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#platform-behavior-and-official-limits" class="md-nav__link">
    <span class="md-ellipsis">
      
        Platform Behavior and Official Limits
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#when-not-to-use-context-window-compression" class="md-nav__link">
    <span class="md-ellipsis">
      
        When NOT to Use Context Window Compression
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#best-practices-for-live-api-connection-and-session-management" class="md-nav__link">
    <span class="md-ellipsis">
      
        Best Practices for Live API Connection and Session Management
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Best Practices for Live API Connection and Session Management">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#essential-enable-session-resumption" class="md-nav__link">
    <span class="md-ellipsis">
      
        Essential: Enable Session Resumption
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recommended-enable-context-window-compression-for-unlimited-sessions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Recommended: Enable Context Window Compression for Unlimited Sessions
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optional-monitor-session-duration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Optional: Monitor Session Duration
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#concurrent-live-api-sessions-and-quota-management" class="md-nav__link">
    <span class="md-ellipsis">
      
        Concurrent Live API Sessions and Quota Management
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Concurrent Live API Sessions and Quota Management">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#understanding-concurrent-live-api-session-quotas" class="md-nav__link">
    <span class="md-ellipsis">
      
        Understanding Concurrent Live API Session Quotas
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#architectural-patterns-for-managing-quotas" class="md-nav__link">
    <span class="md-ellipsis">
      
        Architectural Patterns for Managing Quotas
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Architectural Patterns for Managing Quotas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pattern-1-direct-mapping-simple-applications" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pattern 1: Direct Mapping (Simple Applications)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pattern-2-session-pooling-with-queueing" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pattern 2: Session Pooling with Queueing
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#miscellaneous-controls" class="md-nav__link">
    <span class="md-ellipsis">
      
        Miscellaneous Controls
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Miscellaneous Controls">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#max_llm_calls" class="md-nav__link">
    <span class="md-ellipsis">
      
        max_llm_calls
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#save_live_blob" class="md-nav__link">
    <span class="md-ellipsis">
      
        save_live_blob
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom_metadata" class="md-nav__link">
    <span class="md-ellipsis">
      
        custom_metadata
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#support_cfc-experimental" class="md-nav__link">
    <span class="md-ellipsis">
      
        support_cfc (Experimental)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    <span class="md-ellipsis">
      
        Summary
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
                




  <nav class="md-path" aria-label="Navigation" >
    <ol class="md-path__list">
      
      
        
  
  
    
    
      <li class="md-path__item">
        <a href="../../../get-started/about/" class="md-path__link">
          
  <span class="md-ellipsis">
    Components
  </span>

        </a>
      </li>
    
  

      
        
  
  
    
    
      <li class="md-path__item">
        <a href="../../" class="md-path__link">
          
  <span class="md-ellipsis">
    Bidi-streaming (live)
  </span>

        </a>
      </li>
    
  

      
        
  
  
    
    
      <li class="md-path__item">
        <a href="../part1/" class="md-path__link">
          
  <span class="md-ellipsis">
    Bidi-streaming development guide series
  </span>

        </a>
      </li>
    
  

      
    </ol>
  </nav>

              
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/google/adk-docs/edit/main/docs/streaming/dev-guide/part4.md" title="Edit this page on GitHub" class="md-content__button md-icon" rel="edit">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  
    
      
    
    <a href="https://github.com/google/adk-docs/raw/main/docs/streaming/dev-guide/part4.md" title="View Markdown source" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"/></svg>
    </a>
  
  
  <button id="copy-page-btn" class="md-content__button md-icon" title="Copy page as Markdown" data-url="./index.md">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 21H8V7h11m0-2H8a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2m-3-4H4a2 2 0 0 0-2 2v14h2V3h12z"/></svg>
  </button>


<h1 id="part-4-understanding-runconfig">Part 4: Understanding RunConfig<a class="headerlink" href="#part-4-understanding-runconfig" title="Permanent link">&para;</a></h1>
<p>In Part 3, you learned how to handle events from <code>run_live()</code> to process model responses, tool calls, and streaming updates. This part shows you how to configure those streaming sessions through <code>RunConfig</code>controlling response formats, managing session lifecycles, and enforcing production constraints.</p>
<p><strong>What you'll learn</strong>: This part covers response modalities and their constraints, explores the differences between BIDI and SSE streaming modes, examines the relationship between ADK Sessions and Live API sessions, and shows how to manage session duration with session resumption and context window compression. You'll understand how to handle concurrent session quotas, implement architectural patterns for quota management, and configure cost controls through <code>max_llm_calls</code> and audio persistence options. With RunConfig mastery, you can build production-ready streaming applications that balance feature richness with operational constraints.</p>
<div class="admonition note">
<p class="admonition-title">Learn More</p>
<p>For detailed information about audio/video related <code>RunConfig</code> configurations, see <a href="../part5/">Part 5: Audio, Image and Video in Live API</a>.</p>
</div>
<h2 id="runconfig-parameter-quick-reference">RunConfig Parameter Quick Reference<a class="headerlink" href="#runconfig-parameter-quick-reference" title="Permanent link">&para;</a></h2>
<p>This table provides a quick reference for all RunConfig parameters covered in this part:</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Purpose</th>
<th>Platform Support</th>
<th>Reference</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>response_modalities</strong></td>
<td>list[str]</td>
<td>Control output format (TEXT or AUDIO)</td>
<td>Both</td>
<td><a href="#response-modalities">Details</a></td>
</tr>
<tr>
<td><strong>streaming_mode</strong></td>
<td>StreamingMode</td>
<td>Choose BIDI or SSE mode</td>
<td>Both</td>
<td><a href="#streamingmode-bidi-or-sse">Details</a></td>
</tr>
<tr>
<td><strong>session_resumption</strong></td>
<td>SessionResumptionConfig</td>
<td>Enable automatic reconnection</td>
<td>Both</td>
<td><a href="#live-api-session-resumption">Details</a></td>
</tr>
<tr>
<td><strong>context_window_compression</strong></td>
<td>ContextWindowCompressionConfig</td>
<td>Unlimited session duration</td>
<td>Both</td>
<td><a href="#live-api-context-window-compression">Details</a></td>
</tr>
<tr>
<td><strong>max_llm_calls</strong></td>
<td>int</td>
<td>Limit total LLM calls per session</td>
<td>Both</td>
<td><a href="#max_llm_calls">Details</a></td>
</tr>
<tr>
<td><strong>save_live_blob</strong></td>
<td>bool</td>
<td>Persist audio/video streams</td>
<td>Both</td>
<td><a href="#save_live_blob">Details</a></td>
</tr>
<tr>
<td><strong>custom_metadata</strong></td>
<td>dict[str, Any]</td>
<td>Attach metadata to invocation events</td>
<td>Both</td>
<td><a href="#custom_metadata">Details</a></td>
</tr>
<tr>
<td><strong>support_cfc</strong></td>
<td>bool</td>
<td>Enable compositional function calling</td>
<td>Gemini (2.x models only)</td>
<td><a href="#support_cfc-experimental">Details</a></td>
</tr>
<tr>
<td><strong>speech_config</strong></td>
<td>SpeechConfig</td>
<td>Voice and language configuration</td>
<td>Both</td>
<td><a href="../part5/#voice-configuration-speech-config">Part 5: Voice Configuration</a></td>
</tr>
<tr>
<td><strong>input_audio_transcription</strong></td>
<td>AudioTranscriptionConfig</td>
<td>Transcribe user speech</td>
<td>Both</td>
<td><a href="../part5/#audio-transcription">Part 5: Audio Transcription</a></td>
</tr>
<tr>
<td><strong>output_audio_transcription</strong></td>
<td>AudioTranscriptionConfig</td>
<td>Transcribe model speech</td>
<td>Both</td>
<td><a href="../part5/#audio-transcription">Part 5: Audio Transcription</a></td>
</tr>
<tr>
<td><strong>realtime_input_config</strong></td>
<td>RealtimeInputConfig</td>
<td>VAD configuration</td>
<td>Both</td>
<td><a href="../part5/#voice-activity-detection-vad">Part 5: Voice Activity Detection</a></td>
</tr>
<tr>
<td><strong>proactivity</strong></td>
<td>ProactivityConfig</td>
<td>Enable proactive audio</td>
<td>Gemini (native audio only)</td>
<td><a href="../part5/#proactivity-and-affective-dialog">Part 5: Proactivity and Affective Dialog</a></td>
</tr>
<tr>
<td><strong>enable_affective_dialog</strong></td>
<td>bool</td>
<td>Emotional adaptation</td>
<td>Gemini (native audio only)</td>
<td><a href="../part5/#proactivity-and-affective-dialog">Part 5: Proactivity and Affective Dialog</a></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Source Reference</p>
<p><a href="https://github.com/google/adk-python/blob/29c1115959b0084ac1169748863b35323da3cf50/src/google/adk/agents/run_config.py"><code>run_config.py</code></a></p>
</div>
<p><strong>Platform Support Legend:</strong></p>
<ul>
<li><strong>Both</strong>: Supported on both Gemini Live API and Vertex AI Live API</li>
<li><strong>Gemini</strong>: Only supported on Gemini Live API</li>
<li><strong>Model-specific</strong>: Requires specific model architecture (e.g., native audio)</li>
</ul>
<p><strong>Import Paths:</strong></p>
<p>All configuration type classes referenced in the table above are imported from <code>google.genai.types</code>:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">google.genai</span><span class="w"> </span><span class="kn">import</span> <span class="n">types</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="kn">from</span><span class="w"> </span><span class="nn">google.adk.agents.run_config</span><span class="w"> </span><span class="kn">import</span> <span class="n">RunConfig</span><span class="p">,</span> <span class="n">StreamingMode</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="c1"># Configuration types are accessed via types module</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="n">run_config</span> <span class="o">=</span> <span class="n">RunConfig</span><span class="p">(</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>    <span class="n">session_resumption</span><span class="o">=</span><span class="n">types</span><span class="o">.</span><span class="n">SessionResumptionConfig</span><span class="p">(),</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>    <span class="n">context_window_compression</span><span class="o">=</span><span class="n">types</span><span class="o">.</span><span class="n">ContextWindowCompressionConfig</span><span class="p">(</span><span class="o">...</span><span class="p">),</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>    <span class="n">speech_config</span><span class="o">=</span><span class="n">types</span><span class="o">.</span><span class="n">SpeechConfig</span><span class="p">(</span><span class="o">...</span><span class="p">),</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>    <span class="c1"># etc.</span>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="p">)</span>
</span></code></pre></div>
<p>The <code>RunConfig</code> class itself and <code>StreamingMode</code> enum are imported from <code>google.adk.agents.run_config</code>.</p>
<h2 id="response-modalities">Response Modalities<a class="headerlink" href="#response-modalities" title="Permanent link">&para;</a></h2>
<p>Response modalities control how the model generates outputas text or audio. Both Gemini Live API and Vertex AI Live API have the same restriction: only one response modality per session.</p>
<p><strong>Configuration:</strong></p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="c1"># Phase 2: Session initialization - RunConfig determines streaming behavior</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="c1"># Default behavior: ADK automatically sets response_modalities to [&quot;AUDIO&quot;]</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="c1"># when not specified (required by native audio models)</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="n">run_config</span> <span class="o">=</span> <span class="n">RunConfig</span><span class="p">(</span>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>    <span class="n">streaming_mode</span><span class="o">=</span><span class="n">StreamingMode</span><span class="o">.</span><span class="n">BIDI</span>  <span class="c1"># Bidirectional WebSocket communication</span>
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="p">)</span>
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="c1"># The above is equivalent to:</span>
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a><span class="n">run_config</span> <span class="o">=</span> <span class="n">RunConfig</span><span class="p">(</span>
</span><span id="__span-1-11"><a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a>    <span class="n">response_modalities</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;AUDIO&quot;</span><span class="p">],</span>  <span class="c1"># Automatically set by ADK in run_live()</span>
</span><span id="__span-1-12"><a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a>    <span class="n">streaming_mode</span><span class="o">=</span><span class="n">StreamingMode</span><span class="o">.</span><span class="n">BIDI</span>  <span class="c1"># Bidirectional WebSocket communication</span>
</span><span id="__span-1-13"><a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a><span class="p">)</span>
</span><span id="__span-1-14"><a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a>
</span><span id="__span-1-15"><a id="__codelineno-1-15" name="__codelineno-1-15" href="#__codelineno-1-15"></a><span class="c1">#  CORRECT: Text-only responses</span>
</span><span id="__span-1-16"><a id="__codelineno-1-16" name="__codelineno-1-16" href="#__codelineno-1-16"></a><span class="n">run_config</span> <span class="o">=</span> <span class="n">RunConfig</span><span class="p">(</span>
</span><span id="__span-1-17"><a id="__codelineno-1-17" name="__codelineno-1-17" href="#__codelineno-1-17"></a>    <span class="n">response_modalities</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;TEXT&quot;</span><span class="p">],</span>  <span class="c1"># Model responds with text only</span>
</span><span id="__span-1-18"><a id="__codelineno-1-18" name="__codelineno-1-18" href="#__codelineno-1-18"></a>    <span class="n">streaming_mode</span><span class="o">=</span><span class="n">StreamingMode</span><span class="o">.</span><span class="n">BIDI</span>  <span class="c1"># Still uses bidirectional streaming</span>
</span><span id="__span-1-19"><a id="__codelineno-1-19" name="__codelineno-1-19" href="#__codelineno-1-19"></a><span class="p">)</span>
</span><span id="__span-1-20"><a id="__codelineno-1-20" name="__codelineno-1-20" href="#__codelineno-1-20"></a>
</span><span id="__span-1-21"><a id="__codelineno-1-21" name="__codelineno-1-21" href="#__codelineno-1-21"></a><span class="c1">#  CORRECT: Audio-only responses (explicit)</span>
</span><span id="__span-1-22"><a id="__codelineno-1-22" name="__codelineno-1-22" href="#__codelineno-1-22"></a><span class="n">run_config</span> <span class="o">=</span> <span class="n">RunConfig</span><span class="p">(</span>
</span><span id="__span-1-23"><a id="__codelineno-1-23" name="__codelineno-1-23" href="#__codelineno-1-23"></a>    <span class="n">response_modalities</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;AUDIO&quot;</span><span class="p">],</span>  <span class="c1"># Model responds with audio only</span>
</span><span id="__span-1-24"><a id="__codelineno-1-24" name="__codelineno-1-24" href="#__codelineno-1-24"></a>    <span class="n">streaming_mode</span><span class="o">=</span><span class="n">StreamingMode</span><span class="o">.</span><span class="n">BIDI</span>  <span class="c1"># Bidirectional WebSocket communication</span>
</span><span id="__span-1-25"><a id="__codelineno-1-25" name="__codelineno-1-25" href="#__codelineno-1-25"></a><span class="p">)</span>
</span></code></pre></div>
<p>Both Gemini Live API and Vertex AI Live API restrict sessions to a single response modality. Attempting to use both will result in an API error:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="c1">#  INCORRECT: Both modalities not supported</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="n">run_config</span> <span class="o">=</span> <span class="n">RunConfig</span><span class="p">(</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>    <span class="n">response_modalities</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;TEXT&quot;</span><span class="p">,</span> <span class="s2">&quot;AUDIO&quot;</span><span class="p">],</span>  <span class="c1"># ERROR: Cannot use both</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>    <span class="n">streaming_mode</span><span class="o">=</span><span class="n">StreamingMode</span><span class="o">.</span><span class="n">BIDI</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="p">)</span>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="c1"># Error from Live API: &quot;Only one response modality is supported per session&quot;</span>
</span></code></pre></div>
<p><strong>Default Behavior:</strong></p>
<p>When <code>response_modalities</code> is not specified, ADK's <code>run_live()</code> method automatically sets it to <code>["AUDIO"]</code> because native audio models require an explicit response modality. You can override this by explicitly setting <code>response_modalities=["TEXT"]</code> if needed.</p>
<p><strong>Key constraints:</strong></p>
<ul>
<li>You must choose either <code>TEXT</code> or <code>AUDIO</code> at session start. <strong>Cannot switch between modalities mid-session</strong></li>
<li>You must choose <code>AUDIO</code> for <a href="../part5/#understanding-audio-model-architectures">Native Audio models</a>. If you want to receive both audio and text responses from native audio models, use the Audio Transcript feature which provides text transcripts of the audio output. See <a href="../part5/#audio-transcription">Audio Transcription</a> for details</li>
<li>Response modality only affects model output<strong>you can always send text, voice, or video input (if the model supports those input modalities)</strong> regardless of the chosen response modality</li>
</ul>
<h2 id="streamingmode-bidi-or-sse">StreamingMode: BIDI or SSE<a class="headerlink" href="#streamingmode-bidi-or-sse" title="Permanent link">&para;</a></h2>
<p>ADK supports two distinct streaming modes that use different API endpoints and protocols:</p>
<ul>
<li><code>StreamingMode.BIDI</code>: ADK uses WebSocket to connect to the <strong>Live API</strong> (the bidirectional streaming endpoint via <code>live.connect()</code>)</li>
<li><code>StreamingMode.SSE</code>: ADK uses HTTP streaming to connect to the <strong>standard Gemini API</strong> (the unary/streaming endpoint via <code>generate_content_async()</code>)</li>
</ul>
<p>"Live API" refers specifically to the bidirectional WebSocket endpoint (<code>live.connect()</code>), while "Gemini API" or "standard Gemini API" refers to the traditional HTTP-based endpoint (<code>generate_content()</code> / <code>generate_content_async()</code>). Both are part of the broader Gemini API platform but use different protocols and capabilities.</p>
<p><strong>Note:</strong> These modes refer to the <strong>ADK-to-Gemini API communication protocol</strong>, not your application's client-facing architecture. You can build WebSocket servers, REST APIs, SSE endpoints, or any other architecture for your clients with either mode.</p>
<p>This guide focuses on <code>StreamingMode.BIDI</code>, which is required for real-time audio/video interactions and Live API features. However, it's worth understanding the differences between BIDI and SSE modes to choose the right approach for your use case.</p>
<p><strong>Configuration:</strong></p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">google.adk.agents.run_config</span><span class="w"> </span><span class="kn">import</span> <span class="n">RunConfig</span><span class="p">,</span> <span class="n">StreamingMode</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="c1"># BIDI streaming for real-time audio/video</span>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="n">run_config</span> <span class="o">=</span> <span class="n">RunConfig</span><span class="p">(</span>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>    <span class="n">streaming_mode</span><span class="o">=</span><span class="n">StreamingMode</span><span class="o">.</span><span class="n">BIDI</span><span class="p">,</span>
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>    <span class="n">response_modalities</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;AUDIO&quot;</span><span class="p">]</span>  <span class="c1"># Supports audio/video modalities</span>
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="p">)</span>
</span><span id="__span-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a>
</span><span id="__span-3-9"><a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a><span class="c1"># SSE streaming for text-based interactions</span>
</span><span id="__span-3-10"><a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a><span class="n">run_config</span> <span class="o">=</span> <span class="n">RunConfig</span><span class="p">(</span>
</span><span id="__span-3-11"><a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a>    <span class="n">streaming_mode</span><span class="o">=</span><span class="n">StreamingMode</span><span class="o">.</span><span class="n">SSE</span><span class="p">,</span>
</span><span id="__span-3-12"><a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a>    <span class="n">response_modalities</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;TEXT&quot;</span><span class="p">]</span>  <span class="c1"># Text-only modality</span>
</span><span id="__span-3-13"><a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a><span class="p">)</span>
</span></code></pre></div>
<h3 id="protocol-and-implementation-differences">Protocol and Implementation Differences<a class="headerlink" href="#protocol-and-implementation-differences" title="Permanent link">&para;</a></h3>
<p>The two streaming modes differ fundamentally in their communication patterns and capabilities. BIDI mode enables true bidirectional communication where you can send new input while receiving model responses, while SSE mode follows a traditional request-then-response pattern where you send a complete request and stream back the response.</p>
<p><strong>StreamingMode.BIDI - Bidirectional WebSocket Communication:</strong></p>
<p>BIDI mode establishes a persistent WebSocket connection that allows simultaneous sending and receiving. This enables real-time features like interruptions, live audio streaming, and immediate turn-taking:</p>
<pre class="mermaid"><code>sequenceDiagram
    participant App as Your Application
    participant ADK as ADK
    participant Queue as LiveRequestQueue
    participant Gemini as Gemini Live API

    Note over ADK,Gemini: Protocol: WebSocket

    App-&gt;&gt;ADK: runner.run_live(run_config)
    ADK-&gt;&gt;Gemini: live.connect() - WebSocket
    activate Gemini

    Note over ADK,Queue: Can send while receiving

    App-&gt;&gt;Queue: send_content(text)
    Queue-&gt;&gt;Gemini:  Content (via WebSocket)
    App-&gt;&gt;Queue: send_realtime(audio)
    Queue-&gt;&gt;Gemini:  Audio blob (via WebSocket)

    Gemini--&gt;&gt;ADK:  Partial response (partial=True)
    ADK--&gt;&gt;App:  Event: partial text/audio
    Gemini--&gt;&gt;ADK:  Partial response (partial=True)
    ADK--&gt;&gt;App:  Event: partial text/audio

    App-&gt;&gt;Queue: send_content(interrupt)
    Queue-&gt;&gt;Gemini:  New content

    Gemini--&gt;&gt;ADK:  turn_complete=True
    ADK--&gt;&gt;App:  Event: turn complete

    deactivate Gemini

    Note over ADK,Gemini: Turn Detection: turn_complete flag</code></pre>
<p><strong>StreamingMode.SSE - Unidirectional HTTP Streaming:</strong></p>
<p>SSE (Server-Sent Events) mode uses HTTP streaming where you send a complete request upfront, then receive the response as a stream of chunks. This is a simpler, more traditional pattern suitable for text-based chat applications:</p>
<pre class="mermaid"><code>sequenceDiagram
    participant App as Your Application
    participant ADK as ADK
    participant Gemini as Gemini API

    Note over ADK,Gemini: Protocol: HTTP

    App-&gt;&gt;ADK: runner.run(run_config)
    ADK-&gt;&gt;Gemini: generate_content_stream() - HTTP
    activate Gemini

    Note over ADK,Gemini: Request sent completely, then stream response

    Gemini--&gt;&gt;ADK:  Partial chunk (partial=True)
    ADK--&gt;&gt;App:  Event: partial text
    Gemini--&gt;&gt;ADK:  Partial chunk (partial=True)
    ADK--&gt;&gt;App:  Event: partial text
    Gemini--&gt;&gt;ADK:  Partial chunk (partial=True)
    ADK--&gt;&gt;App:  Event: partial text

    Gemini--&gt;&gt;ADK:  Final chunk (finish_reason=STOP)
    ADK--&gt;&gt;App:  Event: complete response

    deactivate Gemini

    Note over ADK,Gemini: Turn Detection: finish_reason</code></pre>
<h3 id="progressive-sse-streaming">Progressive SSE Streaming<a class="headerlink" href="#progressive-sse-streaming" title="Permanent link">&para;</a></h3>
<p><strong>Progressive SSE streaming</strong> is a feature that enhances how SSE mode delivers streaming responses. This feature improves response aggregation by:</p>
<ul>
<li><strong>Content ordering preservation</strong>: Maintains the original order of mixed content types (text, function calls, inline data)</li>
<li><strong>Intelligent text merging</strong>: Only merges consecutive text parts of the same type (regular text vs thought text)</li>
<li><strong>Progressive delivery</strong>: Marks all intermediate chunks as <code>partial=True</code>, with a single final aggregated response at the end</li>
<li><strong>Deferred function execution</strong>: Skips executing function calls in partial events, only executing them in the final aggregated event to ensure parallel function calls are executed together rather than sequentially</li>
<li><strong>Function call argument streaming</strong>: Supports progressive building of function call arguments through <code>partial_args</code>, enabling real-time display of function call construction</li>
</ul>
<p><strong>Default Behavior:</strong></p>
<p>When you use <code>StreamingMode.SSE</code>, progressive SSE streaming is <strong>enabled by default</strong>. This means you automatically benefit from these improvements without any additional configuration.</p>
<p><strong>Disabling the feature (if needed):</strong></p>
<p>If you need to revert to the legacy SSE streaming behavior (simple text accumulation), you can disable it via environment variable:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="nb">export</span><span class="w"> </span><span class="nv">ADK_DISABLE_PROGRESSIVE_SSE_STREAMING</span><span class="o">=</span><span class="m">1</span>
</span></code></pre></div>
<div class="admonition warning">
<p class="admonition-title">Legacy Behavior Trade-offs</p>
<p>Disabling progressive SSE streaming reverts to simple text accumulation, which:
- May lose original content ordering when mixing text and function calls
- Does not support function call argument streaming via <code>partial_args</code>
- Is provided for backward compatibility onlynew applications should use the default progressive mode</p>
</div>
<p><strong>When progressive SSE streaming helps:</strong></p>
<ul>
<li>You're using <code>StreamingMode.SSE</code> and have mixed content types (text + function calls)</li>
<li>Your responses include thought text (extended thinking) mixed with regular text</li>
<li>You want to ensure function calls execute only once after complete response aggregation</li>
<li>You need to display function call construction in real-time as arguments stream in</li>
</ul>
<p><strong>Note:</strong> This feature only affects <code>StreamingMode.SSE</code>. It does not apply to <code>StreamingMode.BIDI</code> (the focus of this guide), which uses the Live API's native bidirectional protocol.</p>
<h3 id="when-to-use-each-mode">When to Use Each Mode<a class="headerlink" href="#when-to-use-each-mode" title="Permanent link">&para;</a></h3>
<p>Your choice between BIDI and SSE depends on your application requirements and the interaction patterns you need to support. Here's a practical guide to help you choose:</p>
<p><strong>Use BIDI when:</strong></p>
<ul>
<li>Building voice/video applications with real-time interaction</li>
<li>Need bidirectional communication (send while receiving)</li>
<li>Require Live API features (audio transcription, VAD, proactivity, affective dialog)</li>
<li>Supporting interruptions and natural turn-taking (see <a href="../part3/#handling-interrupted-flag">Part 3: Handling Interrupted Flag</a>)</li>
<li>Implementing live streaming tools or real-time data feeds</li>
<li>Can plan for concurrent session quotas (50-1,000 sessions depending on platform/tier)</li>
</ul>
<p><strong>Use SSE when:</strong></p>
<ul>
<li>Building text-based chat applications</li>
<li>Standard request/response interaction pattern</li>
<li>Using models without Live API support (e.g., Gemini 1.5 Pro, Gemini 1.5 Flash)</li>
<li>Simpler deployment without WebSocket requirements</li>
<li>Need larger context windows (Gemini 1.5 supports up to 2M tokens)</li>
<li>Prefer standard API rate limits (RPM/TPM) over concurrent session quotas</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Streaming Mode and Model Compatibility</p>
<p>SSE mode uses the standard Gemini API (<code>generate_content_async</code>) via HTTP streaming, while BIDI mode uses the Live API (<code>live.connect()</code>) via WebSocket. Gemini 1.5 models (Pro, Flash) don't support the Live API protocol and therefore must be used with SSE mode. Gemini 2.0/2.5 Live models support both protocols but are typically used with BIDI mode to access real-time audio/video features.</p>
</div>
<h3 id="standard-gemini-models-15-series-accessed-via-sse">Standard Gemini Models (1.5 Series) Accessed via SSE<a class="headerlink" href="#standard-gemini-models-15-series-accessed-via-sse" title="Permanent link">&para;</a></h3>
<p>While this guide focuses on Bidi-streaming with Gemini 2.0 Live models, ADK also supports the Gemini 1.5 model family through SSE streaming. These models offer different trade-offslarger context windows and proven stability, but without real-time audio/video features. Here's what the 1.5 series supports when accessed via SSE:</p>
<p><strong>Models:</strong></p>
<ul>
<li><code>gemini-1.5-pro</code></li>
<li><code>gemini-1.5-flash</code></li>
</ul>
<p><strong>Supported:</strong></p>
<ul>
<li> Text input/output (<code>response_modalities=["TEXT"]</code>)</li>
<li> SSE streaming (<code>StreamingMode.SSE</code>)</li>
<li> Function calling with automatic execution</li>
<li> Large context windows (up to 2M tokens for 1.5-pro)</li>
</ul>
<p><strong>Not Supported:</strong></p>
<ul>
<li> Live audio features (audio I/O, transcription, VAD)</li>
<li> Bidi-streaming via <code>run_live()</code></li>
<li> Proactivity and affective dialog</li>
<li> Video input</li>
</ul>
<h2 id="understanding-live-api-connections-and-sessions">Understanding Live API Connections and Sessions<a class="headerlink" href="#understanding-live-api-connections-and-sessions" title="Permanent link">&para;</a></h2>
<p>When building ADK Bidi-streaming applications, it's essential to understand how ADK manages the communication layer between itself and the  Live API backend. This section explores the fundamental distinction between <strong>connections</strong> (the WebSocket transport links that ADK establishes to Live API) and <strong>sessions</strong> (the logical conversation contexts maintained by Live API). Unlike traditional request-response APIs, the Bidi-streaming architecture introduces unique constraints: connection timeouts, session duration limits that vary by modality (audio-only vs audio+video), finite context windows, and concurrent session quotas that differ between Gemini Live API and Vertex AI Live API.</p>
<h3 id="adk-session-vs-live-api-session">ADK <code>Session</code> vs Live API Session<a class="headerlink" href="#adk-session-vs-live-api-session" title="Permanent link">&para;</a></h3>
<p>Understanding the distinction between <strong>ADK <code>Session</code></strong> and <strong>Live API session</strong> is crucial for building reliable streaming applications with ADK Bidi-streaming.</p>
<p><strong>ADK <code>Session</code></strong> (managed by SessionService):
- Persistent conversation storage for conversation history, events, and state, created via <code>SessionService.create_session()</code> 
- Storage options: in-memory, database (PostgreSQL/MySQL/SQLite), or Vertex AI
- Survives across multiple <code>run_live()</code> calls and application restarts (with the persistent <code>SessionService</code>)</p>
<p><strong>Live API session</strong> (managed by Live API backend):
- Maintained by the Live API during the <code>run_live()</code> event loop is running, and destroyed when streaming ends by calling <code>LiveRequestQueue.close()</code>
- Subject to platform duration limits, and can be resumed across multiple connections using session resumption handles (see <a href="#how-adk-manages-session-resumption">How ADK Manages Session Resumption</a> below)</p>
<p><strong>How they work together:</strong></p>
<ol>
<li><strong>When <code>run_live()</code> is called:</strong></li>
<li>Retrieves the ADK <code>Session</code> from <code>SessionService</code></li>
<li>Initializes the Live API session with conversation history from <code>session.events</code></li>
<li>Streams events bidirectionally with the Live API backend</li>
<li>Updates the ADK <code>Session</code> with new events as they occur</li>
<li><strong>When <code>run_live()</code> ends</strong></li>
<li>The Live API session terminates</li>
<li>The ADK <code>Session</code> persists</li>
<li><strong>When <code>run_live()</code> is called again</strong> or <strong>the application is restarted</strong>:<ul>
<li>ADK loads the history from the ADK <code>Session</code></li>
<li>Creates a new Live API session with that context</li>
</ul>
</li>
</ol>
<p>In short, ADK <code>Session</code> provides persistent, long-term conversation storage, while Live API sessions are ephemeral streaming contexts. This separation enables production applications to maintain conversation continuity across network interruptions, application restarts, and multiple streaming sessions.</p>
<p>The following diagram illustrates the relationship between ADK Session persistence and ephemeral Live API session contexts, showing how conversation history is maintained across multiple <code>run_live()</code> calls:</p>
<pre class="mermaid"><code>sequenceDiagram
    participant App as Your Application
    participant SS as SessionService
    participant ADK_Session as ADK Session&lt;br/&gt;(Persistent Storage)
    participant ADK as ADK (run_live)
    participant LiveSession as Live API Session&lt;br/&gt;(Ephemeral)

    Note over App,LiveSession: First run_live() call

    App-&gt;&gt;SS: get_session(user_id, session_id)
    SS-&gt;&gt;ADK_Session: Load session data
    ADK_Session--&gt;&gt;SS: Session with events history
    SS--&gt;&gt;App: Session object

    App-&gt;&gt;ADK: runner.run_live(...)
    ADK-&gt;&gt;LiveSession: Initialize with history from ADK Session
    activate LiveSession

    Note over ADK,LiveSession: Bidirectional streaming...

    ADK-&gt;&gt;ADK_Session: Update with new events

    App-&gt;&gt;ADK: queue.close()
    ADK-&gt;&gt;LiveSession: Terminate
    deactivate LiveSession
    Note over LiveSession: Live API session destroyed
    Note over ADK_Session: ADK Session persists

    Note over App,LiveSession: Second run_live() call (or after restart)

    App-&gt;&gt;SS: get_session(user_id, session_id)
    SS-&gt;&gt;ADK_Session: Load session data
    ADK_Session--&gt;&gt;SS: Session with events history
    SS--&gt;&gt;App: Session object (with previous history)

    App-&gt;&gt;ADK: runner.run_live(...)
    ADK-&gt;&gt;LiveSession: Initialize new session with full history
    activate LiveSession

    Note over ADK,LiveSession: Bidirectional streaming continues...</code></pre>
<p><strong>Key insights:</strong>
- ADK Session survives across multiple <code>run_live()</code> calls and app restarts
- Live API session is ephemeral - created and destroyed per streaming session
- Conversation continuity is maintained through ADK Session's persistent storage
- SessionService manages the persistence layer (in-memory, database, or Vertex AI)</p>
<p>Now that we understand the difference between ADK <code>Session</code> objects and Live API sessions, let's focus on Live API connections and sessionsthe backend infrastructure that powers real-time bidirectional streaming.</p>
<h3 id="live-api-connections-and-sessions">Live API Connections and Sessions<a class="headerlink" href="#live-api-connections-and-sessions" title="Permanent link">&para;</a></h3>
<p>Understanding the distinction between <strong>connections</strong> and <strong>sessions</strong> at the Live API level is crucial for building reliable ADK Bidi-streaming applications.</p>
<p><strong>Connection</strong>: The physical WebSocket link between ADK and the Live API server. This is the network transport layer that carries bidirectional streaming data.</p>
<p><strong>Session</strong>: The logical conversation context maintained by the Live API, including conversation history, tool call state, and model context. A session can span multiple connections.</p>
<table>
<thead>
<tr>
<th><strong>Aspect</strong></th>
<th><strong>Connection</strong></th>
<th><strong>Session</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>What is it?</strong></td>
<td>WebSocket network connection</td>
<td>Logical conversation context</td>
</tr>
<tr>
<td><strong>Scope</strong></td>
<td>Transport layer</td>
<td>Application layer</td>
</tr>
<tr>
<td><strong>Can span?</strong></td>
<td>Single network link</td>
<td>Multiple connections via resumption</td>
</tr>
<tr>
<td><strong>Failure impact</strong></td>
<td>Network error or timeout</td>
<td>Lost conversation history</td>
</tr>
</tbody>
</table>
<h4 id="live-api-connection-and-session-limits-by-platform">Live API Connection and Session Limits by Platform<a class="headerlink" href="#live-api-connection-and-session-limits-by-platform" title="Permanent link">&para;</a></h4>
<p>Understanding the constraints of each platform is critical for production planning. Gemini Live API and Vertex AI Live API have different limits that affect how long conversations can run and how many users can connect simultaneously. The most important distinction is between <strong>connection duration</strong> (how long a single WebSocket connection stays open) and <strong>session duration</strong> (how long a logical conversation can continue).</p>
<table>
<thead>
<tr>
<th>Constraint Type</th>
<th>Gemini Live API<br>(Google AI Studio)</th>
<th>Vertex AI Live API<br>(Google Cloud)</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Connection duration</strong></td>
<td>~10 minutes</td>
<td>Not documented separately</td>
<td>Each Gemini WebSocket connection auto-terminates; ADK reconnects transparently with session resumption</td>
</tr>
<tr>
<td><strong>Session Duration (Audio-only)</strong></td>
<td>15 minutes</td>
<td>10 minutes</td>
<td>Maximum session duration without context window compression. Both platforms: unlimited with context window compression enabled</td>
</tr>
<tr>
<td><strong>Session Duration (Audio + video)</strong></td>
<td>2 minutes</td>
<td>10 minutes</td>
<td>Gemini has shorter limit for video; Vertex treats all sessions equally. Both platforms: unlimited with context window compression enabled</td>
</tr>
<tr>
<td><strong>Concurrent sessions</strong></td>
<td>50 (Tier 1)<br>1,000 (Tier 2+)</td>
<td>Up to 1,000</td>
<td>Gemini limits vary by API tier; Vertex limit is per Google Cloud project</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Source References</p>
<ul>
<li><a href="https://ai.google.dev/gemini-api/docs/live-guide">Gemini Live API Capabilities Guide</a></li>
<li><a href="https://ai.google.dev/gemini-api/docs/quota">Gemini API Quotas</a></li>
<li><a href="https://cloud.google.com/vertex-ai/generative-ai/docs/live-api">Vertex AI Live API</a></li>
</ul>
</div>
<h2 id="live-api-session-resumption">Live API Session Resumption<a class="headerlink" href="#live-api-session-resumption" title="Permanent link">&para;</a></h2>
<p>By default, the Live API limits connection duration to approximately 10 minuteseach WebSocket connection automatically closes after this duration. To overcome this limit and enable longer conversations, the <strong>Live API provides <a href="https://ai.google.dev/gemini-api/docs/live#session-resumption">Session Resumption</a></strong>, a feature that transparently migrates a session across multiple connections. When enabled, the Live API generates resumption handles that allow reconnecting to the same session context, preserving the full conversation history and state.</p>
<p><strong>ADK automates this entirely</strong>: When you enable session resumption in RunConfig, ADK automatically handles all reconnection logicdetecting connection closures, caching resumption handles, and reconnecting seamlessly in the background. You don't need to write any reconnection code. Sessions continue seamlessly beyond the 10-minute connection limit, handling connection timeouts, network disruptions, and planned reconnections automatically.</p>
<h3 id="scope-of-adks-reconnection-management">Scope of ADK's Reconnection Management<a class="headerlink" href="#scope-of-adks-reconnection-management" title="Permanent link">&para;</a></h3>
<p>ADK manages the <strong>ADK-to-Live API connection</strong> (the WebSocket between ADK and the Gemini/Vertex Live API backend). This is transparent to your application code.</p>
<p><strong>Your application remains responsible for</strong>:</p>
<ul>
<li>Managing client connections to your application (e.g., user's WebSocket to your FastAPI server)</li>
<li>Implementing client-side reconnection logic if needed</li>
<li>Handling network failures between clients and your application</li>
</ul>
<p>When ADK reconnects to the Live API, your application's event loop continues normallyyou keep receiving events from <code>run_live()</code> without interruption. From your application's perspective, the Live API session continues seamlessly.</p>
<p><strong>Configuration:</strong></p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">google.genai</span><span class="w"> </span><span class="kn">import</span> <span class="n">types</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="n">run_config</span> <span class="o">=</span> <span class="n">RunConfig</span><span class="p">(</span>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>    <span class="n">session_resumption</span><span class="o">=</span><span class="n">types</span><span class="o">.</span><span class="n">SessionResumptionConfig</span><span class="p">()</span>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="p">)</span>
</span></code></pre></div>
<p><strong>When NOT to Enable Session Resumption:</strong></p>
<p>While session resumption is recommended for most production applications, consider these scenarios where you might not need it:</p>
<ul>
<li><strong>Short sessions (&lt;10 minutes)</strong>: If your sessions typically complete within the ~10 minute connection timeout, resumption adds unnecessary overhead</li>
<li><strong>Stateless interactions</strong>: Request-response style interactions where each turn is independent don't benefit from session continuity</li>
<li><strong>Development/testing</strong>: Simpler debugging when each session starts fresh without carrying over state</li>
<li><strong>Cost-sensitive deployments</strong>: Session resumption may incur additional platform costs or resource usage (verify with your platform)</li>
</ul>
<p><strong>Best practice</strong>: Enable session resumption by default for production, disable only when you have a specific reason not to use it.</p>
<h3 id="how-adk-manages-session-resumption">How ADK Manages Session Resumption<a class="headerlink" href="#how-adk-manages-session-resumption" title="Permanent link">&para;</a></h3>
<p>While session resumption is supported by both Gemini Live API and Vertex AI Live API, using it directly requires managing resumption handles, detecting connection closures, and implementing reconnection logic. ADK takes full responsibility for this complexity, automatically utilizing session resumption behind the scenes so developers don't need to write any reconnection code. You simply enable it in RunConfig, and ADK handles everything transparently.</p>
<p><strong>ADK's automatic management:</strong></p>
<ol>
<li><strong>Initial Connection</strong>: ADK establishes a WebSocket connection to Live API</li>
<li><strong>Handle Updates</strong>: Throughout the session, the Live API sends <code>session_resumption_update</code> messages containing updated handles. ADK automatically caches the latest handle in <code>InvocationContext.live_session_resumption_handle</code></li>
<li><strong>Graceful Connection Close</strong>: When the ~10 minute connection limit is reached, the WebSocket closes gracefully (no exception)</li>
<li><strong>Automatic Reconnection</strong>: ADK's internal loop detects the close and automatically reconnects using the most recent cached handle</li>
<li><strong>Session Continuation</strong>: The same session continues seamlessly with full context preserved</li>
</ol>
<div class="admonition note">
<p class="admonition-title">Implementation Detail</p>
<p>During reconnection, ADK retrieves the cached handle from <code>InvocationContext.live_session_resumption_handle</code> and includes it in the new <code>LiveConnectConfig</code> for the <code>live.connect()</code> call. This is handled entirely by ADK's internal reconnection loopdevelopers never need to access or manage these handles directly.</p>
</div>
<h3 id="sequence-diagram-automatic-reconnection">Sequence Diagram: Automatic Reconnection<a class="headerlink" href="#sequence-diagram-automatic-reconnection" title="Permanent link">&para;</a></h3>
<p>The following sequence diagram illustrates how ADK automatically manages Live API session resumption when the ~10 minute connection timeout is reached. ADK detects the graceful close, retrieves the cached resumption handle, and reconnects transparently without application code changes:</p>
<pre class="mermaid"><code>sequenceDiagram
    participant App as Your Application
    participant ADK as ADK (run_live)
    participant WS as WebSocket Connection
    participant API as Live API (Gemini/Vertex AI)
    participant LiveSession as Live Session Context

    Note over App,LiveSession: Initial Connection (with session resumption enabled)

    App-&gt;&gt;ADK: runner.run_live(run_config=RunConfig(session_resumption=...))
    ADK-&gt;&gt;API: WebSocket connect()
    activate WS
    API-&gt;&gt;LiveSession: Create new session
    activate LiveSession

    Note over ADK,API: Bidirectional Streaming (0-10 minutes)

    App-&gt;&gt;ADK: send_content(text) / send_realtime(audio)
    ADK-&gt;&gt;API:  Content via WebSocket
    API-&gt;&gt;LiveSession: Update conversation history
    API--&gt;&gt;ADK:  Streaming response
    ADK--&gt;&gt;App:  yield event

    Note over API,LiveSession: Live API sends resumption handle updates
    API--&gt;&gt;ADK: session_resumption_update { new_handle: "abc123" }
    ADK-&gt;&gt;ADK: Cache handle in InvocationContext

    Note over WS,API: ~10 minutes elapsed - Connection timeout

    API-&gt;&gt;WS: Close WebSocket (graceful close)
    deactivate WS
    Note over LiveSession: Session context preserved

    Note over ADK: Graceful close detected - No exception raised
    ADK-&gt;&gt;ADK: while True loop continues

    Note over ADK,API: Automatic Reconnection

    ADK-&gt;&gt;API: WebSocket connect(session_resumption.handle="abc123")
    activate WS
    API-&gt;&gt;LiveSession: Attach to existing session
    API--&gt;&gt;ADK: Session resumed with full context

    Note over ADK,API: Bidirectional Streaming Continues

    App-&gt;&gt;ADK: send_content(text) / send_realtime(audio)
    ADK-&gt;&gt;API:  Content via WebSocket
    API-&gt;&gt;LiveSession: Update conversation history
    API--&gt;&gt;ADK:  Streaming response
    ADK--&gt;&gt;App:  yield event

    Note over App,LiveSession: Session continues until duration limit or explicit close

    deactivate WS
    deactivate LiveSession</code></pre>
<div class="admonition note">
<p class="admonition-title">Events and Session Persistence</p>
<p>For details on which events are saved to the ADK <code>Session</code> versus which are only yielded during streaming, see <a href="../part3/#events-saved-to-adk-session">Part 3: Events Saved to ADK Session</a>.</p>
</div>
<h2 id="live-api-context-window-compression">Live API Context Window Compression<a class="headerlink" href="#live-api-context-window-compression" title="Permanent link">&para;</a></h2>
<p><strong>Problem:</strong> Live API sessions face two critical constraints that limit conversation duration. First, <strong>session duration limits</strong> impose hard time caps: without compression, Gemini Live API limits audio-only sessions to 15 minutes and audio+video sessions to just 2 minutes, while Vertex AI limits all sessions to 10 minutes. Second, <strong>context window limits</strong> restrict conversation length: models have finite token capacities (128k tokens for <code>gemini-2.5-flash-native-audio-preview-12-2025</code>, 32k-128k for Vertex AI models). Long conversationsespecially extended customer support sessions, tutoring interactions, or multi-hour voice dialogueswill hit either the time limit or the token limit, causing the session to terminate or lose critical conversation history.</p>
<p><strong>Solution:</strong> <a href="https://ai.google.dev/gemini-api/docs/live-session#context-window-compression">Context window compression</a> solves both constraints simultaneously. It uses a sliding-window approach to automatically compress or summarize earlier conversation history when the token count reaches a configured threshold. The Live API preserves recent context in full detail while compressing older portions. <strong>Critically, enabling context window compression extends session duration to unlimited time</strong>, removing the session duration limits (15 minutes for audio-only / 2 minutes for audio+video on Gemini Live API; 10 minutes for all sessions on Vertex AI) while also preventing token limit exhaustion. However, there is a trade-off: as the feature summarizes earlier conversation history rather than retaining it all, the detail of past context will be gradually lost over time. The model will have access to compressed summaries of older exchanges, not the full verbatim history.</p>
<h3 id="platform-behavior-and-official-limits">Platform Behavior and Official Limits<a class="headerlink" href="#platform-behavior-and-official-limits" title="Permanent link">&para;</a></h3>
<p>Session duration management and context window compression are <strong>Live API platform features</strong>. ADK configures these features via RunConfig and passes the configuration to the Live API, but the actual enforcement and implementation are handled by the Gemini/Vertex AI Live API backends.</p>
<p><strong>Important</strong>: The duration limits and "unlimited" session behavior mentioned in this guide are based on current Live API behavior. These limits are subject to change by Google. Always verify current session duration limits and compression behavior in the official documentation:</p>
<ul>
<li><a href="https://ai.google.dev/gemini-api/docs/live">Gemini Live API Documentation</a></li>
<li><a href="https://cloud.google.com/vertex-ai/generative-ai/docs/live-api">Vertex AI Live API Documentation</a></li>
</ul>
<p>ADK provides an easy way to configure context window compression through RunConfig. However, developers are responsible for appropriately configuring the compression parameters (<code>trigger_tokens</code> and <code>target_tokens</code>) based on their specific requirementsmodel context window size, expected conversation patterns, and quality needs:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">google.genai</span><span class="w"> </span><span class="kn">import</span> <span class="n">types</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="kn">from</span><span class="w"> </span><span class="nn">google.adk.agents.run_config</span><span class="w"> </span><span class="kn">import</span> <span class="n">RunConfig</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="c1"># For gemini-2.5-flash-native-audio-preview-12-2025 (128k context window)</span>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="n">run_config</span> <span class="o">=</span> <span class="n">RunConfig</span><span class="p">(</span>
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a>    <span class="n">context_window_compression</span><span class="o">=</span><span class="n">types</span><span class="o">.</span><span class="n">ContextWindowCompressionConfig</span><span class="p">(</span>
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a>        <span class="n">trigger_tokens</span><span class="o">=</span><span class="mi">100000</span><span class="p">,</span>  <span class="c1"># Start compression at ~78% of 128k context</span>
</span><span id="__span-6-8"><a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a>        <span class="n">sliding_window</span><span class="o">=</span><span class="n">types</span><span class="o">.</span><span class="n">SlidingWindow</span><span class="p">(</span>
</span><span id="__span-6-9"><a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a>            <span class="n">target_tokens</span><span class="o">=</span><span class="mi">80000</span>  <span class="c1"># Compress to ~62% of context, preserving recent turns</span>
</span><span id="__span-6-10"><a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a>        <span class="p">)</span>
</span><span id="__span-6-11"><a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a>    <span class="p">)</span>
</span><span id="__span-6-12"><a id="__codelineno-6-12" name="__codelineno-6-12" href="#__codelineno-6-12"></a><span class="p">)</span>
</span></code></pre></div>
<p><strong>How it works:</strong></p>
<p>When context window compression is enabled:</p>
<ol>
<li>The Live API monitors the total token count of the conversation context</li>
<li>When the context reaches the <code>trigger_tokens</code> threshold, compression activates</li>
<li>Earlier conversation history is compressed or summarized using a sliding window approach</li>
<li>Recent context (last <code>target_tokens</code> worth) is preserved in full detail</li>
<li><strong>Two critical effects occur simultaneously:</strong></li>
<li>Session duration limits are removed (no more 15-minute/2-minute caps on Gemini Live API or 10-minute caps on Vertex AI)</li>
<li>Token limits are managed (sessions can continue indefinitely regardless of conversation length)</li>
</ol>
<p><strong>Choosing appropriate thresholds:</strong></p>
<ul>
<li>Set <code>trigger_tokens</code> to 70-80% of your model's context window to allow headroom</li>
<li>Set <code>target_tokens</code> to 60-70% to provide sufficient compression</li>
<li>Test with your actual conversation patterns to optimize these values</li>
</ul>
<p><strong>Parameter Selection Strategy:</strong></p>
<p>The examples above use 78% for <code>trigger_tokens</code> and 62% for <code>target_tokens</code>. Here's the reasoning:</p>
<ol>
<li><strong>trigger_tokens at 78%</strong>: Provides a buffer before hitting the hard limit</li>
<li>Allows room for the current turn to complete</li>
<li>Prevents mid-response compression interruptions</li>
<li>
<p>Typical conversations can continue for several more turns</p>
</li>
<li>
<p><strong>target_tokens at 62%</strong>: Leaves substantial room after compression</p>
</li>
<li>16 percentage points (78% - 62%) freed up per compression</li>
<li>Allows for multiple turns before next compression</li>
<li>
<p>Balances preservation of context with compression frequency</p>
</li>
<li>
<p><strong>Adjusting for your use case</strong>:</p>
</li>
<li><strong>Long turns</strong> (detailed technical discussions): Increase buffer  70% trigger, 50% target</li>
<li><strong>Short turns</strong> (quick Q&amp;A): Tighter margins  85% trigger, 70% target</li>
<li><strong>Context-critical</strong> (requires historical detail): Higher target  80% trigger, 70% target</li>
<li><strong>Performance-sensitive</strong> (minimize compression overhead): Lower trigger  70% trigger, 50% target</li>
</ol>
<p>Always test with your actual conversation patterns to find optimal values.</p>
<h3 id="when-not-to-use-context-window-compression">When NOT to Use Context Window Compression<a class="headerlink" href="#when-not-to-use-context-window-compression" title="Permanent link">&para;</a></h3>
<p>While compression enables unlimited session duration, consider these trade-offs:</p>
<p><strong>Context Window Compression Trade-offs:</strong></p>
<table>
<thead>
<tr>
<th>Aspect</th>
<th>With Compression</th>
<th>Without Compression</th>
<th>Best For</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Session Duration</strong></td>
<td>Unlimited</td>
<td>15 min (audio)<br>2 min (video) Gemini<br>10 min Vertex</td>
<td>Compression: Long sessions<br>No compression: Short sessions</td>
</tr>
<tr>
<td><strong>Context Quality</strong></td>
<td>Older context summarized</td>
<td>Full verbatim history</td>
<td>Compression: General conversation<br>No compression: Precision-critical</td>
</tr>
<tr>
<td><strong>Latency</strong></td>
<td>Compression overhead</td>
<td>No overhead</td>
<td>Compression: Async scenarios<br>No compression: Real-time</td>
</tr>
<tr>
<td><strong>Memory Usage</strong></td>
<td>Bounded</td>
<td>Grows with session</td>
<td>Compression: Long sessions<br>No compression: Short sessions</td>
</tr>
<tr>
<td><strong>Implementation</strong></td>
<td>Configure thresholds</td>
<td>No configuration</td>
<td>Compression: Production<br>No compression: Prototypes</td>
</tr>
</tbody>
</table>
<p><strong>Common Use Cases:</strong></p>
<p> <strong>Enable compression when:</strong>
- Sessions need to exceed platform duration limits (15/2/10 minutes)
- Extended conversations may hit token limits (128k for 2.5-flash)
- Customer support sessions that can last hours
- Educational tutoring with long interactions</p>
<p> <strong>Disable compression when:</strong>
- All sessions complete within duration limits
- Precision recall of early conversation is critical
- Development/testing phase (full history aids debugging)
- Quality degradation from summarization is unacceptable</p>
<p><strong>Best practice</strong>: Enable compression only when you need sessions longer than platform duration limits OR when conversations may exceed context window token limits.</p>
<h2 id="best-practices-for-live-api-connection-and-session-management">Best Practices for Live API Connection and Session Management<a class="headerlink" href="#best-practices-for-live-api-connection-and-session-management" title="Permanent link">&para;</a></h2>
<h3 id="essential-enable-session-resumption">Essential: Enable Session Resumption<a class="headerlink" href="#essential-enable-session-resumption" title="Permanent link">&para;</a></h3>
<ul>
<li> <strong>Always enable session resumption</strong> in RunConfig for production applications</li>
<li> This enables ADK to automatically handle Gemini's ~10 minute connection timeouts transparently</li>
<li> Sessions continue seamlessly across multiple WebSocket connections without user interruption</li>
<li> Session resumption handle caching and management</li>
</ul>
<div class="language-python highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">google.genai</span><span class="w"> </span><span class="kn">import</span> <span class="n">types</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="n">run_config</span> <span class="o">=</span> <span class="n">RunConfig</span><span class="p">(</span>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>    <span class="n">response_modalities</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;AUDIO&quot;</span><span class="p">],</span>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>    <span class="n">session_resumption</span><span class="o">=</span><span class="n">types</span><span class="o">.</span><span class="n">SessionResumptionConfig</span><span class="p">()</span>
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a><span class="p">)</span>
</span></code></pre></div>
<h3 id="recommended-enable-context-window-compression-for-unlimited-sessions">Recommended: Enable Context Window Compression for Unlimited Sessions<a class="headerlink" href="#recommended-enable-context-window-compression-for-unlimited-sessions" title="Permanent link">&para;</a></h3>
<ul>
<li> <strong>Enable context window compression</strong> if you need sessions longer than 15 minutes (audio-only) or 2 minutes (audio+video)</li>
<li> Once enabled, session duration becomes unlimitedno need to monitor time-based limits</li>
<li> Configure <code>trigger_tokens</code> and <code>target_tokens</code> based on your model's context window</li>
<li> Test compression settings with realistic conversation patterns</li>
<li> <strong>Use judiciously</strong>: Compression adds latency during summarization and may lose conversational nuanceonly enable when extended sessions are truly necessary for your use case</li>
</ul>
<div class="language-python highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">google.genai</span><span class="w"> </span><span class="kn">import</span> <span class="n">types</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="kn">from</span><span class="w"> </span><span class="nn">google.adk.agents.run_config</span><span class="w"> </span><span class="kn">import</span> <span class="n">RunConfig</span>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="n">run_config</span> <span class="o">=</span> <span class="n">RunConfig</span><span class="p">(</span>
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a>    <span class="n">response_modalities</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;AUDIO&quot;</span><span class="p">],</span>
</span><span id="__span-8-6"><a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a>    <span class="n">session_resumption</span><span class="o">=</span><span class="n">types</span><span class="o">.</span><span class="n">SessionResumptionConfig</span><span class="p">(),</span>
</span><span id="__span-8-7"><a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a>    <span class="n">context_window_compression</span><span class="o">=</span><span class="n">types</span><span class="o">.</span><span class="n">ContextWindowCompressionConfig</span><span class="p">(</span>
</span><span id="__span-8-8"><a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a>        <span class="n">trigger_tokens</span><span class="o">=</span><span class="mi">100000</span><span class="p">,</span>
</span><span id="__span-8-9"><a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a>        <span class="n">sliding_window</span><span class="o">=</span><span class="n">types</span><span class="o">.</span><span class="n">SlidingWindow</span><span class="p">(</span><span class="n">target_tokens</span><span class="o">=</span><span class="mi">80000</span><span class="p">)</span>
</span><span id="__span-8-10"><a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a>    <span class="p">)</span>
</span><span id="__span-8-11"><a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a><span class="p">)</span>
</span></code></pre></div>
<h3 id="optional-monitor-session-duration">Optional: Monitor Session Duration<a class="headerlink" href="#optional-monitor-session-duration" title="Permanent link">&para;</a></h3>
<p><strong>Only applies if NOT using context window compression:</strong></p>
<ul>
<li> Focus on <strong>session duration limits</strong>, not connection timeouts (ADK handles those automatically)</li>
<li> <strong>Gemini Live API</strong>: Monitor for 15-minute limit (audio-only) or 2-minute limit (audio+video)</li>
<li> <strong>Vertex AI Live API</strong>: Monitor for 10-minute session limit</li>
<li> Warn users 1-2 minutes before session duration limits</li>
<li> Implement graceful session transitions for conversations exceeding session limits</li>
</ul>
<h2 id="concurrent-live-api-sessions-and-quota-management">Concurrent Live API Sessions and Quota Management<a class="headerlink" href="#concurrent-live-api-sessions-and-quota-management" title="Permanent link">&para;</a></h2>
<p><strong>Problem:</strong> Production voice applications typically serve multiple users simultaneously, each requiring their own Live API session. However, both Gemini Live API and Vertex AI Live API impose strict concurrent session limits that vary by platform and pricing tier. Without proper quota planning and session management, applications can hit these limits quickly, causing connection failures for new users or degraded service quality during peak usage.</p>
<p><strong>Solution:</strong> Understand platform-specific quotas, design your architecture to stay within concurrent session limits, implement session pooling or queueing strategies when needed, and monitor quota usage proactively. ADK handles individual session lifecycle automatically, but developers must architect their applications to manage multiple concurrent users within quota constraints.</p>
<h3 id="understanding-concurrent-live-api-session-quotas">Understanding Concurrent Live API Session Quotas<a class="headerlink" href="#understanding-concurrent-live-api-session-quotas" title="Permanent link">&para;</a></h3>
<p>Both platforms limit how many Live API sessions can run simultaneously, but the limits and mechanisms differ significantly:</p>
<p><strong>Gemini Live API (Google AI Studio) - Tier-based quotas:</strong></p>
<table>
<thead>
<tr>
<th><strong>Tier</strong></th>
<th style="text-align: right;"><strong>Concurrent Sessions</strong></th>
<th style="text-align: right;"><strong>TPM (Tokens Per Minute)</strong></th>
<th><strong>Access</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Free Tier</strong></td>
<td style="text-align: right;">Limited*</td>
<td style="text-align: right;">1,000,000</td>
<td>Free API key</td>
</tr>
<tr>
<td><strong>Tier 1</strong></td>
<td style="text-align: right;">50</td>
<td style="text-align: right;">4,000,000</td>
<td>Pay-as-you-go</td>
</tr>
<tr>
<td><strong>Tier 2</strong></td>
<td style="text-align: right;">1,000</td>
<td style="text-align: right;">10,000,000</td>
<td>Higher usage tier</td>
</tr>
<tr>
<td><strong>Tier 3</strong></td>
<td style="text-align: right;">1,000</td>
<td style="text-align: right;">10,000,000</td>
<td>Higher usage tier</td>
</tr>
</tbody>
</table>
<p>*Free tier concurrent session limits are not explicitly documented but are significantly lower than paid tiers.</p>
<div class="admonition note">
<p class="admonition-title">Source</p>
<p><a href="https://ai.google.dev/gemini-api/docs/quota">Gemini API Quotas</a></p>
</div>
<p><strong>Vertex AI Live API (Google Cloud) - Project-based quotas:</strong></p>
<table>
<thead>
<tr>
<th><strong>Resource Type</strong></th>
<th style="text-align: right;"><strong>Limit</strong></th>
<th><strong>Scope</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Concurrent live bidirectional connections</strong></td>
<td style="text-align: right;">10 per minute</td>
<td>Per project, per region</td>
</tr>
<tr>
<td><strong>Maximum concurrent sessions</strong></td>
<td style="text-align: right;">Up to 1,000</td>
<td>Per project</td>
</tr>
<tr>
<td><strong>Session creation/deletion/update</strong></td>
<td style="text-align: right;">100 per minute</td>
<td>Per project, per region</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Source</p>
<p><a href="https://cloud.google.com/vertex-ai/generative-ai/docs/live-api">Vertex AI Live API</a> | <a href="https://cloud.google.com/vertex-ai/generative-ai/docs/quotas">Vertex AI Quotas</a></p>
</div>
<p><strong>Requesting a quota increase:</strong></p>
<p>To request an increase for Live API concurrent sessions, navigate to the <a href="https://console.cloud.google.com/iam-admin/quotas">Quotas page</a> in the Google Cloud Console. Filter for the quota named <strong>"Bidi generate content concurrent requests"</strong> to find quota values for each project, region and base model, and submit a quota increase request. You'll need the Quota Administrator role (<code>roles/servicemanagement.quotaAdmin</code>) to make the request. See <a href="https://cloud.google.com/docs/quotas/view-manage">View and manage quotas</a> for detailed instructions.</p>
<p><img alt="Quota value on Cloud Console" src="../assets/adk-streaming-guide-quota-console.png" /></p>
<p><strong>Key differences:</strong></p>
<ol>
<li>
<p><strong>Gemini Live API</strong>: Concurrent session limits scale dramatically with API tier (50  1,000 sessions). Best for applications with unpredictable or rapidly scaling user bases willing to pay for higher tiers.</p>
</li>
<li>
<p><strong>Vertex AI Live API</strong>: Rate-limited by connection establishment rate (10/min) but supports up to 1,000 total concurrent sessions. Best for enterprise applications with gradual scaling patterns and existing Google Cloud infrastructure. Additionally, you can request quota increases to prepare for production deployments with higher concurrency requirements.</p>
</li>
</ol>
<h3 id="architectural-patterns-for-managing-quotas">Architectural Patterns for Managing Quotas<a class="headerlink" href="#architectural-patterns-for-managing-quotas" title="Permanent link">&para;</a></h3>
<p>Once you understand your concurrent session quotas, the next challenge is architecting your application to operate effectively within those limits. The right approach depends on your expected user concurrency, scaling requirements, and tolerance for queueing. This section presents two architectural patternsfrom simple direct mapping for low-concurrency applications to session pooling with queueing for applications that may exceed quota limits during peak usage. Choose the pattern that matches your current scale and design it to evolve as your user base grows.</p>
<p><strong>Choosing the Right Architecture:</strong></p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>                Start: Designing Quota Management
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>                              |
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>                              v
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a>                   Expected Concurrent Users?
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a>                     /                    \
</span><span id="__span-9-6"><a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a>            &lt; Quota Limit           &gt; Quota Limit or Unpredictable
</span><span id="__span-9-7"><a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a>                   |                              |
</span><span id="__span-9-8"><a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a>                   v                              v
</span><span id="__span-9-9"><a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a>          Pattern 1: Direct Mapping    Pattern 2: Session Pooling
</span><span id="__span-9-10"><a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a>          - Simple 1:1 mapping         - Queue waiting users
</span><span id="__span-9-11"><a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a>          - No quota logic             - Graceful degradation
</span><span id="__span-9-12"><a id="__codelineno-9-12" name="__codelineno-9-12" href="#__codelineno-9-12"></a>          - Fast development           - Peak handling
</span><span id="__span-9-13"><a id="__codelineno-9-13" name="__codelineno-9-13" href="#__codelineno-9-13"></a>                   |                              |
</span><span id="__span-9-14"><a id="__codelineno-9-14" name="__codelineno-9-14" href="#__codelineno-9-14"></a>                   v                              v
</span><span id="__span-9-15"><a id="__codelineno-9-15" name="__codelineno-9-15" href="#__codelineno-9-15"></a>              Good for:                      Good for:
</span><span id="__span-9-16"><a id="__codelineno-9-16" name="__codelineno-9-16" href="#__codelineno-9-16"></a>              - Prototypes                   - Production at scale
</span><span id="__span-9-17"><a id="__codelineno-9-17" name="__codelineno-9-17" href="#__codelineno-9-17"></a>              - Small teams                  - Unpredictable load
</span><span id="__span-9-18"><a id="__codelineno-9-18" name="__codelineno-9-18" href="#__codelineno-9-18"></a>              - Controlled users             - Public applications
</span></code></pre></div>
<p><strong>Quick Decision Guide:</strong></p>
<table>
<thead>
<tr>
<th>Factor</th>
<th>Direct Mapping</th>
<th>Session Pooling</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Expected users</strong></td>
<td>Always &lt; quota</td>
<td>May exceed quota</td>
</tr>
<tr>
<td><strong>User experience</strong></td>
<td>Always instant</td>
<td>May wait during peaks</td>
</tr>
<tr>
<td><strong>Implementation complexity</strong></td>
<td>Low</td>
<td>Medium</td>
</tr>
<tr>
<td><strong>Operational overhead</strong></td>
<td>None</td>
<td>Monitor queue depth</td>
</tr>
<tr>
<td><strong>Best for</strong></td>
<td>Prototypes, internal tools</td>
<td>Production, public apps</td>
</tr>
</tbody>
</table>
<h4 id="pattern-1-direct-mapping-simple-applications">Pattern 1: Direct Mapping (Simple Applications)<a class="headerlink" href="#pattern-1-direct-mapping-simple-applications" title="Permanent link">&para;</a></h4>
<p>For small-scale applications where concurrent users will never exceed quota limits, create a dedicated Live API session for each connected user with a simple 1:1 mapping:</p>
<ol>
<li><strong>When a user connects:</strong> Immediately start a <code>run_live()</code> session for them</li>
<li><strong>When they disconnect:</strong> The session ends</li>
<li><strong>No quota management logic:</strong> Assumes your total concurrent users will always stay below your quota limits</li>
</ol>
<p>This is the simplest possible architecture and works well for prototypes, development environments, and small-scale applications with predictable user loads.</p>
<h4 id="pattern-2-session-pooling-with-queueing">Pattern 2: Session Pooling with Queueing<a class="headerlink" href="#pattern-2-session-pooling-with-queueing" title="Permanent link">&para;</a></h4>
<p>For applications that may exceed concurrent session limits during peak usage, track the number of active Live API sessions and enforce your quota limit at the application level:</p>
<ol>
<li><strong>When a new user connects:</strong> Check if you have available session slots</li>
<li><strong>If slots are available:</strong> Start a session immediately</li>
<li><strong>If you've reached your quota limit:</strong></li>
<li>Place the user in a waiting queue</li>
<li>Notify them they're waiting for an available slot</li>
<li><strong>As sessions end:</strong> Automatically process the queue to start sessions for waiting users</li>
</ol>
<p>This provides graceful degradationusers wait briefly during peak times rather than experiencing hard connection failures.</p>
<h2 id="miscellaneous-controls">Miscellaneous Controls<a class="headerlink" href="#miscellaneous-controls" title="Permanent link">&para;</a></h2>
<p>ADK provides additional RunConfig options to control session behavior, manage costs, and persist audio data for debugging and compliance purposes.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="n">run_config</span> <span class="o">=</span> <span class="n">RunConfig</span><span class="p">(</span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>    <span class="c1"># Limit total LLM calls per invocation</span>
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>    <span class="n">max_llm_calls</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span>  <span class="c1"># Default: 500 (prevents runaway loops)</span>
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a>                        <span class="c1"># 0 or negative = unlimited (use with caution)</span>
</span><span id="__span-10-5"><a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a>
</span><span id="__span-10-6"><a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a>    <span class="c1"># Save audio/video artifacts for debugging/compliance</span>
</span><span id="__span-10-7"><a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a>    <span class="n">save_live_blob</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>  <span class="c1"># Default: False</span>
</span><span id="__span-10-8"><a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a>
</span><span id="__span-10-9"><a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a>    <span class="c1"># Attach custom metadata to events</span>
</span><span id="__span-10-10"><a id="__codelineno-10-10" name="__codelineno-10-10" href="#__codelineno-10-10"></a>    <span class="n">custom_metadata</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;user_tier&quot;</span><span class="p">:</span> <span class="s2">&quot;premium&quot;</span><span class="p">,</span> <span class="s2">&quot;session_type&quot;</span><span class="p">:</span> <span class="s2">&quot;support&quot;</span><span class="p">},</span>  <span class="c1"># Default: None</span>
</span><span id="__span-10-11"><a id="__codelineno-10-11" name="__codelineno-10-11" href="#__codelineno-10-11"></a>
</span><span id="__span-10-12"><a id="__codelineno-10-12" name="__codelineno-10-12" href="#__codelineno-10-12"></a>    <span class="c1"># Enable compositional function calling (experimental)</span>
</span><span id="__span-10-13"><a id="__codelineno-10-13" name="__codelineno-10-13" href="#__codelineno-10-13"></a>    <span class="n">support_cfc</span><span class="o">=</span><span class="kc">True</span>  <span class="c1"># Default: False (Gemini 2.x models only)</span>
</span><span id="__span-10-14"><a id="__codelineno-10-14" name="__codelineno-10-14" href="#__codelineno-10-14"></a><span class="p">)</span>
</span></code></pre></div>
<h3 id="max_llm_calls">max_llm_calls<a class="headerlink" href="#max_llm_calls" title="Permanent link">&para;</a></h3>
<p>This parameter caps the total number of LLM invocations allowed per invocation context, providing protection against runaway costs and infinite agent loops.</p>
<p><strong>Limitation for BIDI Streaming:</strong></p>
<p><strong>The <code>max_llm_calls</code> limit does NOT apply to <code>run_live()</code> with <code>StreamingMode.BIDI</code>.</strong> This parameter only protects SSE streaming mode and <code>run_async()</code> flows. If you're building bidirectional streaming applications (the focus of this guide), you will NOT get automatic cost protection from this parameter.</p>
<p><strong>For Live streaming sessions</strong>, implement your own safeguards:</p>
<ul>
<li>Session duration limits</li>
<li>Turn count tracking</li>
<li>Custom cost monitoring by tracking token usage in model turn events (see <a href="../part3/#event-types-and-handling">Part 3: Event Types and Handling</a>)</li>
<li>Application-level circuit breakers</li>
</ul>
<h3 id="save_live_blob">save_live_blob<a class="headerlink" href="#save_live_blob" title="Permanent link">&para;</a></h3>
<p>This parameter controls whether audio and video streams are persisted to ADK's session and artifact services for debugging, compliance, and quality assurance purposes.</p>
<div class="admonition warning">
<p class="admonition-title">Migration Note: save_live_audio Deprecated</p>
<p><strong>If you're using <code>save_live_audio</code>:</strong> This parameter has been deprecated in favor of <code>save_live_blob</code>. ADK will automatically migrate <code>save_live_audio=True</code> to <code>save_live_blob=True</code> with a deprecation warning, but this compatibility layer will be removed in a future release. Update your code to use <code>save_live_blob</code> instead.</p>
</div>
<p>Currently, <strong>only audio is persisted</strong> by ADK's implementation. When enabled, ADK persists audio streams to:</p>
<ul>
<li><strong><a href="https://google.github.io/adk-docs/sessions/">Session service</a></strong>: Conversation history includes audio references</li>
<li><strong><a href="https://google.github.io/adk-docs/artifacts/">Artifact service</a></strong>: Audio files stored with unique IDs</li>
</ul>
<p><strong>Use cases:</strong></p>
<ul>
<li><strong>Debugging</strong>: Voice interaction issues, assistant behavior analysis</li>
<li><strong>Compliance</strong>: Audit trails for regulated industries (healthcare, financial services)</li>
<li><strong>Quality Assurance</strong>: Monitoring conversation quality, identifying issues</li>
<li><strong>Training Data</strong>: Collecting data for model improvement</li>
<li><strong>Development/Testing</strong>: Testing environments and cost-sensitive deployments</li>
</ul>
<p><strong>Storage considerations:</strong></p>
<p>Enabling <code>save_live_blob=True</code> has significant storage implications:</p>
<ul>
<li><strong>Audio file sizes</strong>: At 16kHz PCM, audio input generates ~1.92 MB per minute</li>
<li><strong>Session storage</strong>: Audio is stored in both session service and artifact service</li>
<li><strong>Retention policy</strong>: Check your artifact service configuration for retention periods</li>
<li><strong>Cost impact</strong>: Storage costs can accumulate quickly for high-volume voice applications</li>
</ul>
<p><strong>Best practices:</strong></p>
<ul>
<li>Enable only when needed (debugging, compliance, training)</li>
<li>Implement retention policies to auto-delete old audio artifacts</li>
<li>Consider sampling (e.g., save 10% of sessions for quality monitoring)</li>
<li>Use compression if supported by your artifact service</li>
</ul>
<h3 id="custom_metadata">custom_metadata<a class="headerlink" href="#custom_metadata" title="Permanent link">&para;</a></h3>
<p>This parameter allows you to attach arbitrary key-value metadata to events generated during the current invocation. The metadata is stored in the <code>Event.custom_metadata</code> field and persisted to session storage, enabling you to tag events with application-specific context for analytics, debugging, routing, or compliance tracking.</p>
<p><strong>Configuration:</strong></p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">google.adk.agents.run_config</span><span class="w"> </span><span class="kn">import</span> <span class="n">RunConfig</span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="c1"># Attach metadata to all events in this invocation</span>
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="n">run_config</span> <span class="o">=</span> <span class="n">RunConfig</span><span class="p">(</span>
</span><span id="__span-11-5"><a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a>    <span class="n">custom_metadata</span><span class="o">=</span><span class="p">{</span>
</span><span id="__span-11-6"><a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a>        <span class="s2">&quot;user_tier&quot;</span><span class="p">:</span> <span class="s2">&quot;premium&quot;</span><span class="p">,</span>
</span><span id="__span-11-7"><a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a>        <span class="s2">&quot;session_type&quot;</span><span class="p">:</span> <span class="s2">&quot;customer_support&quot;</span><span class="p">,</span>
</span><span id="__span-11-8"><a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a>        <span class="s2">&quot;campaign_id&quot;</span><span class="p">:</span> <span class="s2">&quot;promo_2025&quot;</span><span class="p">,</span>
</span><span id="__span-11-9"><a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a>        <span class="s2">&quot;ab_test_variant&quot;</span><span class="p">:</span> <span class="s2">&quot;variant_b&quot;</span>
</span><span id="__span-11-10"><a id="__codelineno-11-10" name="__codelineno-11-10" href="#__codelineno-11-10"></a>    <span class="p">}</span>
</span><span id="__span-11-11"><a id="__codelineno-11-11" name="__codelineno-11-11" href="#__codelineno-11-11"></a><span class="p">)</span>
</span></code></pre></div>
<p><strong>How it works:</strong></p>
<p>When you provide <code>custom_metadata</code> in RunConfig:</p>
<ol>
<li><strong>Metadata attachment</strong>: The dictionary is attached to every <code>Event</code> generated during the invocation</li>
<li><strong>Session persistence</strong>: Events with metadata are stored in the session service (database, Vertex AI, or in-memory)</li>
<li><strong>Event access</strong>: Retrieve metadata from any event via <code>event.custom_metadata</code></li>
<li><strong>A2A integration</strong>: For Agent-to-Agent (A2A) communication, ADK automatically propagates A2A request metadata to this field</li>
</ol>
<p><strong>Type specification:</strong></p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="n">custom_metadata</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
</span></code></pre></div>
<p>The metadata is a flexible dictionary accepting any JSON-serializable values (strings, numbers, booleans, nested objects, arrays).</p>
<p><strong>Use cases:</strong></p>
<ul>
<li><strong>User segmentation</strong>: Tag events with user tier, subscription level, or cohort information</li>
<li><strong>Session classification</strong>: Label sessions by type (support, sales, onboarding) for analytics</li>
<li><strong>Campaign tracking</strong>: Associate events with marketing campaigns or experiments</li>
<li><strong>A/B testing</strong>: Track which variant of your application generated the event</li>
<li><strong>Compliance</strong>: Attach jurisdiction, consent flags, or data retention policies</li>
<li><strong>Debugging</strong>: Add trace IDs, feature flags, or environment identifiers</li>
<li><strong>Analytics</strong>: Store custom dimensions for downstream analysis</li>
</ul>
<p><strong>Example - Retrieving metadata from events:</strong></p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="k">async</span> <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">runner</span><span class="o">.</span><span class="n">run_live</span><span class="p">(</span>
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a>    <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a>    <span class="n">live_request_queue</span><span class="o">=</span><span class="n">queue</span><span class="p">,</span>
</span><span id="__span-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a>    <span class="n">run_config</span><span class="o">=</span><span class="n">RunConfig</span><span class="p">(</span>
</span><span id="__span-13-5"><a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a>        <span class="n">custom_metadata</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;user_id&quot;</span><span class="p">:</span> <span class="s2">&quot;user_123&quot;</span><span class="p">,</span> <span class="s2">&quot;experiment&quot;</span><span class="p">:</span> <span class="s2">&quot;new_ui&quot;</span><span class="p">}</span>
</span><span id="__span-13-6"><a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a>    <span class="p">)</span>
</span><span id="__span-13-7"><a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a><span class="p">):</span>
</span><span id="__span-13-8"><a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a>    <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">custom_metadata</span><span class="p">:</span>
</span><span id="__span-13-9"><a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;User: </span><span class="si">{</span><span class="n">event</span><span class="o">.</span><span class="n">custom_metadata</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;user_id&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-13-10"><a id="__codelineno-13-10" name="__codelineno-13-10" href="#__codelineno-13-10"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Experiment: </span><span class="si">{</span><span class="n">event</span><span class="o">.</span><span class="n">custom_metadata</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;experiment&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span></code></pre></div>
<p><strong>Agent-to-Agent (A2A) integration:</strong></p>
<p>When using <code>RemoteA2AAgent</code>, ADK automatically extracts metadata from A2A requests and populates <code>custom_metadata</code>:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="c1"># A2A request metadata is automatically mapped to custom_metadata</span>
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="c1"># Source: a2a/converters/request_converter.py</span>
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="n">custom_metadata</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="__span-14-4"><a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a>    <span class="s2">&quot;a2a_metadata&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-14-5"><a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a>        <span class="c1"># Original A2A request metadata appears here</span>
</span><span id="__span-14-6"><a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a>    <span class="p">}</span>
</span><span id="__span-14-7"><a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a><span class="p">}</span>
</span></code></pre></div>
<p>This enables seamless metadata propagation across agent boundaries in multi-agent architectures.</p>
<p><strong>Best practices:</strong></p>
<ul>
<li>Use consistent key naming conventions across your application</li>
<li>Avoid storing sensitive data (PII, credentials) in metadatause encryption if necessary</li>
<li>Keep metadata size reasonable to minimize storage overhead</li>
<li>Document your metadata schema for team consistency</li>
<li>Consider using metadata for session filtering and search in production debugging</li>
</ul>
<h3 id="support_cfc-experimental">support_cfc (Experimental)<a class="headerlink" href="#support_cfc-experimental" title="Permanent link">&para;</a></h3>
<p>This parameter enables Compositional Function Calling (CFC), allowing the model to orchestrate multiple tools in sophisticated patternscalling tools in parallel, chaining outputs as inputs to other tools, or conditionally executing tools based on intermediate results.</p>
<p><strong> Experimental Feature:</strong> CFC support is experimental and subject to change.</p>
<p><strong>Critical behavior:</strong> When <code>support_cfc=True</code>, ADK <strong>always uses the Live API</strong> (WebSocket) internally, regardless of the <code>streaming_mode</code> setting. This is because only the Live API backend supports CFC capabilities.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="c1"># Even with SSE mode, ADK routes through Live API when CFC is enabled</span>
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="n">run_config</span> <span class="o">=</span> <span class="n">RunConfig</span><span class="p">(</span>
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a>    <span class="n">support_cfc</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
</span><span id="__span-15-4"><a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a>    <span class="n">streaming_mode</span><span class="o">=</span><span class="n">StreamingMode</span><span class="o">.</span><span class="n">SSE</span>  <span class="c1"># ADK uses Live API internally</span>
</span><span id="__span-15-5"><a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a><span class="p">)</span>
</span></code></pre></div>
<p><strong>Model requirements:</strong></p>
<p>ADK validates CFC compatibility at session initialization and will raise an error if the model is unsupported:</p>
<ul>
<li> <strong>Supported</strong>: <code>gemini-2.x</code> models (e.g., <code>gemini-2.5-flash-native-audio-preview-12-2025</code>)</li>
<li> <strong>Not supported</strong>: <code>gemini-1.5-x</code> models</li>
<li><strong>Validation</strong>: ADK checks that the model name starts with <code>gemini-2</code> when <code>support_cfc=True</code> (<a href="https://github.com/google/adk-python/blob/fd2c0f556b786417a9f6add744827b07e7a06b7d/src/google/adk/runners.py#L1361-L1367"><code>runners.py:1322-1328</code></a>)</li>
<li><strong>Code executor</strong>: ADK automatically injects <code>BuiltInCodeExecutor</code> when CFC is enabled for safe parallel tool execution</li>
</ul>
<p><strong>CFC capabilities:</strong></p>
<ul>
<li><strong>Parallel execution</strong>: Call multiple independent tools simultaneously (e.g., fetch weather for multiple cities at once)</li>
<li><strong>Function chaining</strong>: Use one tool's output as input to another (e.g., <code>get_location()</code>  <code>get_weather(location)</code>)</li>
<li><strong>Conditional execution</strong>: Execute tools based on intermediate results from prior tool calls</li>
</ul>
<p><strong>Use cases:</strong></p>
<p>CFC is designed for complex, multi-step workflows that benefit from intelligent tool orchestration:</p>
<ul>
<li>Data aggregation from multiple APIs simultaneously</li>
<li>Multi-step analysis pipelines where tools feed into each other</li>
<li>Complex research tasks requiring conditional exploration</li>
<li>Any scenario needing sophisticated tool coordination beyond sequential execution</li>
</ul>
<p><strong>For bidirectional streaming applications:</strong> While CFC works with BIDI mode, it's primarily optimized for text-based tool orchestration. For real-time audio/video interactions (the focus of this guide), standard function calling typically provides better performance and simpler implementation.</p>
<p><strong>Learn more:</strong></p>
<ul>
<li><a href="https://ai.google.dev/gemini-api/docs/function-calling">Gemini Function Calling Guide</a> - Official documentation on compositional and parallel function calling</li>
<li><a href="https://github.com/google/adk-python/blob/29c1115959b0084ac1169748863b35323da3cf50/contributing/samples/parallel_functions/agent.py">ADK Parallel Functions Example</a> - Working example with async tools</li>
<li><a href="https://google.github.io/adk-docs/tools/performance/">ADK Performance Guide</a> - Best practices for parallel-ready tools</li>
</ul>
<h2 id="summary">Summary<a class="headerlink" href="#summary" title="Permanent link">&para;</a></h2>
<p>In this part, you learned how RunConfig enables sophisticated control over ADK Bidi-streaming sessions through declarative configuration. We covered response modalities and their constraints, explored the differences between BIDI and SSE streaming modes, examined the relationship between ADK Sessions and Live API sessions, and learned how to manage session duration with session resumption and context window compression. You now understand how to handle concurrent session quotas, implement architectural patterns for quota management, configure cost controls through <code>max_llm_calls</code> and audio persistence options. With RunConfig mastery, you can build production-ready streaming applications that balance feature richness with operational constraintsenabling extended conversations, managing platform limits, controlling costs effectively, and monitoring resource consumption.</p>
<hr />
<p> <a href="../part3/">Previous: Part 3: Event Handling with run_live()</a> | <a href="../part5/">Next: Part 5: How to Use Audio, Image and Video</a> </p>









  




                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../part3/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Part 3. Event handling">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Part 3. Event handling
              </div>
            </div>
          </a>
        
        
          
          <a href="../part5/" class="md-footer__link md-footer__link--next" aria-label="Next: Part 5. Audio, Images, and Video">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Part 5. Audio, Images, and Video
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright Google 2026&nbsp;&nbsp;|&nbsp;&nbsp;<a href="//policies.google.com/terms">Terms</a>&nbsp;&nbsp;|&nbsp;&nbsp;<a href="//policies.google.com/privacy">Privacy</a>&nbsp;&nbsp;|&nbsp;&nbsp;<a href="#__consent">Manage cookies</a>
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
      <div class="md-consent" data-md-component="consent" id="__consent" hidden>
        <div class="md-consent__overlay"></div>
        <aside class="md-consent__inner">
          <form class="md-consent__form md-grid md-typeset" name="consent">
            


  


<h4>Cookie consent</h4>
<p>We use cookies to recognize repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find the information they need. With your consent, you're helping us to make our documentation better.</p>
<input class="md-toggle" type="checkbox" id="__settings" >
<div class="md-consent__settings">
  <ul class="task-list">
    
    
      
        
  
  
    
    
  
  <li class="task-list-item">
    <label class="task-list-control">
      <input type="checkbox" name="analytics" checked>
      <span class="task-list-indicator"></span>
      Google Analytics
    </label>
  </li>

      
    
    
      
        
  
  
    
    
  
  <li class="task-list-item">
    <label class="task-list-control">
      <input type="checkbox" name="github" checked>
      <span class="task-list-indicator"></span>
      GitHub
    </label>
  </li>

      
    
    
  </ul>
</div>
<div class="md-consent__controls">
  
    
      <button class="md-button md-button--primary">Accept</button>
    
    
    
  
    
    
    
      <label class="md-button" for="__settings">Manage settings</label>
    
  
</div>
          </form>
        </aside>
      </div>
      <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout((function(){document.querySelector("[data-md-component=consent]").hidden=!1}),250);var form=document.forms.consent;for(var action of["submit","reset"])form.addEventListener(action,(function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map((function(e){return[e,!0]})))),location.hash="",location.reload()}))</script>
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": ["content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy", "content.code.select", "content.tabs.link", "content.tooltips", "navigation.footer", "navigation.indexes", "navigation.instant", "navigation.instant.progress", "navigation.path", "navigation.sections", "navigation.top", "navigation.tracking", "toc.follow"], "search": "../../../assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.e71a0d61.min.js"></script>
      
        <script src="../../../javascript/copy-page.js"></script>
      
    
  </body>
</html>